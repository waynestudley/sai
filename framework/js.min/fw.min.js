/*----------------------------------------
	Name: jquery.fw.min.js
	Developed by: Suyog Shaha
----------------------------------------*/
var preLoade;var globalPath;var menuData;var globalSettings;var playerSetting;var navigation;var globalData;var navigationData;var progressArray;var pageContainer;var navigationEvent;var mediaPlayer;var pageTitle;var pageInstruction;var pageCounter;var courseEvent;var buttonClass;var templateMediator;var dataStore;var timeIntvl=null;var islogPop=false;var communicationWin=null;var infoText="";var bounceCount=5;var bounceInterval=0;var oLeft=0;var auPlayer;var mediaEvent=new mediaEvent();var currentPageXML=null;$(document).ready(function(){if(typeof console==="undefined"){console={log:function(b){return}}}preLoade=new fw_PreLoader();auPlayer=$.audioPlayer.create();menuData=new fw_MenuData();globalPath=new fw_GlobalPath();courseEvent=new fw_Event();globalSettings=new fw_GlobalSettings();globalData=new fw_GlobalData();var a=new Array("content/images/menuBg.png","content/images/audioSelection.png","content/images/languageSelectionBg.png","framework/images/menuBlink.png","framework/images/nextBlink.png","framework/images/mobile/menuBlink.png","framework/images/mobile/nextBlink.png");$.imgpreload(a,{each:function(){},all:function(){try{}catch(b){}}});$(globalData).bind(courseEvent.GLOBALDATA_LOAD_COMPLETE,function(b){onGlobalDataLoadComplete()});$(globalData).bind(courseEvent.USERDATA_LOAD_COMPLETE,function(b){onUserDataLoadComplete()})});function onGlobalDataLoadComplete(){playerSetting=new fw_PlayerSettings();playerSetting.init();navigationData=new fw_NavigationData();navigationData.updateProfileQuestions();pageInstruction=new fw_PageInstruction();templateMediator=new fw_TemplateMediator();globalSettings.updateLayOut();dataStore=new fw_DataCommunication();dataStore.init()}function mediaEvent(){}function updatePlayer(){preLoade.hidePreLoader();buttonClass=new fw_ButtonClass();pageContainer=new fw_PageContainer();pageTitle=new fw_PageTitle();pageCounter=new fw_PageCounter();navigation=new Navigation();mediaPlayer=new fw_MediaPlayer();navigationEvent=new fw_NavigatioEvent();navigation.loadCurrentPage()}function onUserDataLoadComplete(){navigationData.loadGlossary();navigationData.loadTranscript();navigation.loadNextPage()}function loadCommunicationWin(){islogPop=true;var c=800;var a=300;var b=10;var d=10;communicationWin=window.open("communication_log.html","logWin","width="+c+",height="+a+",scrollbars=0,screenX=0,screenY=0,resizable=yes,status=no,top="+d+",left="+b+"");communicationWin.onbeforeunload=function(){islogPop=false;communicationWin=null};return false}function loadCertificateWin(){var d=602;var a=557;var c=10;var e=10;var b=window.open("content/"+globalPath.userLanguage+"/certificate.html","cerWin","width="+d+",height="+a+",scrollbars=0,screenX=0,screenY=0,resizable=yes,status=no,top="+e+",left="+c+"");return false}function getStudentName(){return navigationData.student_name}function getPassDate(){return navigationData.passDate}function setTrackData(c,f,b,e,a){if(infoText==""){infoText="<p><span class='valLable' >Revision Number:</span>"+playerSetting.revisionNumber+"</p><p class='botBorder'></p>"}var h=new Date();var g="<p><span class='valLable' >Time:</span>"+h+"</p>";g+="<p><span class='valLable' >Function: </span>"+c+"</p>";if(f!=null&&f!=""){g+="<p><span class='valLable' >Parameter: </span>"+f+"</p>"}if(b!=null&&b!=""){g+="<p><span class='valLable' >Parameter Value: </span>"+b+"</p>"}g+="<p><span class='valLable' >Return: </span>"+e+"</p>";if(a){g+="<p><span class='valLable' >Result: </span><span class='passResult' >Success</span></p>"}else{g+="<p><span class='valLable' >Result: </span><span class='failResult' >Fail</span></p>"}g+="<p class='botBorder'></p>";infoText+=g;if(communicationWin!=null&&islogPop){communicationWin.addText(infoText)}}function bouncePage(c,a){bounceCount=5;try{clearInterval(bounceInterval)}catch(b){}if(a=="left"){bounceCount=6}oLeft=getNumber($(c).css("left"));bounceInterval=setInterval(function(){bounceCount-=1;if(bounceCount==0){clearInterval(bounceInterval)}else{var e=(oLeft+bounceCount);var d=e%2==0?-e:e;console.log(d);$(c).animate({left:d+"px"},60)}},100)}function closeCourse(){}function closeInfoWin(){islogPop=false;communicationWin=null}window.onunload=function(){if(playerSetting.isScorm()){dataStore.closeCourse()}};function fw_PageInstruction(){this.updateText=a;this.showInstruction=c;this.hideInstruction=b;function a(d){$(".pageInstruction .instructionText").html(d);$(".pageInstruction").show()}function c(){$(".pageInstruction").show()}function b(){$(".pageInstruction").hide()}}function fw_LanguageSelection(h){var g=h;this.updatePageLayOut=a;$(".LS-instruction p").html(g.contentText[0].text[0].Text);$(".btntext").html(g.buttonText[0].text[0].Text);$(".panelBg").attr("src",g.contentBackground[0].img[0].path);$(".panelBg").attr("alt",g.contentBackground[0].img[0].Text);var f="";if(!navigationData.firstTime){f=globalPath.userLanguage;$(".languageSelection .continue").removeClass("disabled")}var k=new Array();for(var d=0;d<g.dropDownMenu[0].option.length;d++){var j=g.dropDownMenu[0].option[d].Text;var e=g.dropDownMenu[0].option[d].folderPath;var c={val:e,data:j};k.push(c)}$(".continue").attr("tabindex",(4+g.dropDownMenu[0].option.length));$(".LSCombBg").fw_DropDown({dataArray:k,defaultSelect:f,tabIndex:4,callback:function(l){if(l!=""&&l!=null&&l.toLowerCase()!="none"){$(".languageSelection .continue").removeClass("disabled");globalPath.userLanguage=l}else{$(".languageSelection .continue").addClass("disabled")}}});$(".languageSelection .continue").live("click",function(){if($(this).hasClass("disabled")){return false}mediaPlayer.loadAudio("content/"+globalPath.userLanguage+"/audio/blank.mp3");$(this).addClass("disabled");globalData.loadUserProfileData()});try{templateMediator.templateLoadComplete()}catch(b){}$(".languageSelection .continue").focus(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}});$("div[tabindex=1]").focus();$(".languageSelection .continue").focusout(function(){$("div[tabindex=1]").focus()});function a(){}}function fw_WelcomeScreen(b){var d=b;this.updatePageLayOut=a;$(".welComText p").html(d.contentText[0].text[0].Text);$(".courseName p").html(d.contentText[0].text[1].Text);$(".btntext").html(d.buttonText[0].text[0].Text);$(".panelBg").attr("src",d.contentBackground[0].img[0].path);$(".panelBg").attr("alt",d.contentBackground[0].img[0].Text);if(globalSettings.isIpad){$(".welcomeScreen").css("height","590px")}$(".welcomeScreen .continue").live("click",function(){if($(this).hasClass("disabled")){return false}$(this).addClass("disabled");globalData.loadUserProfileData()});try{templateMediator.templateLoadComplete()}catch(c){}$("Div[tabindex=1]").focus();$(".welcomeScreen .continue").focusout(function(){$("div[tabindex=1]").focus()});function a(){}}function fw_AudioSelection(n){var m=n;var e=".audioSelection .optionButton";var b="optionSelect";var k="optionHover";var l=0;this.updatePageLayOut=a;$(".courseName").html(m.contentText[0].text[0].Text);$(".AS-instruction").html(m.contentText[0].text[1].Text);$(".btntext").html(m.buttonText[0].text[0].Text);$(".panelBg").attr("src",m.contentBackground[0].img[0].path);$(".panelBg").attr("alt",m.contentBackground[0].img[0].Text);var o=new Array();for(var h=0;h<m.dropDownMenu[0].option.length;h++){var g=m.dropDownMenu[0].option[h].Text;var c=m.dropDownMenu[0].option[h].id;var f={val:c,data:g};o.push(f)}var j="";if(!navigationData.firstTime){if(playerSetting.isAudio){j="A1"}else{j="A2"}$(".audioSelection .continue").removeClass("disabled")}$(".ASCombBg").fw_DropDown({dataArray:o,defaultSelect:j,tabIndex:5,callback:function(p){if(p=="A1"||p=="A2"){playerSetting.isAudio=p=="A1"?true:false;$(".audioSelection .continue").removeClass("disabled")}else{$(".audioSelection .continue").addClass("disabled")}}});$(".audioSelection .continue").live("click",function(){if($(this).hasClass("disabled")){return false}$(this).addClass("disabled");$("body").disableSelection();navigation.loadNextPage()});$(".audioSelection .continue").focusout(function(){$("div[tabindex=1]").focus()});try{templateMediator.templateLoadComplete()}catch(d){}$(".audioSelection .continue").focus(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}});function a(){}}function getNumber(b){if(b==null){return 0}var a=parseInt(b.split("px")[0]);return a}function isNull(a){if(a==""||a==null){return true}else{return false}}function getVal(a){if(isNull(a)){a=0+"px"}return a}function setPosition(a,f){var c=getVal(f.left);var g=getVal(f.top);var e=getVal(f.width);var b=getVal(f.height);var d=getVal(f.letter_spacing);$(a).css({width:e,left:c,top:g,height:b,"letter-spacing":d});return true}function fw_Assessment(){var G=globalData.assessmentXML;var w=new Array();var g=new Array();var v=0;var B=0;var K=new Array();var I=new Array();var e=G.module.length;var m=0;var q=playerSetting.assessmentRandomize;var L=null;var h=G.qIcon[0].Text;var H=G.qNumber[0].Text.split("#");var b=playerSetting.passingScore;this.clearAllEvent=j;this.loadNextQuestion=p;this.updatePageLayOut=t;var k=0;var F=0;y();var M=false;function y(){$.fw_Transcript("hide");F=0;$(pageContainer).trigger(courseEvent.PAGE_LOAD_START);navigation.clearAudio();navigationEvent.disableNavigation();$(pageContainer).trigger(courseEvent.PAGE_LOAD_COMPLETE);u()}function u(){F=0;if(q){var R=0;for(var Q=0;Q<e;Q++){var U=G.module[Q].question.length;var S=parseInt(G.module[Q].pick);I.push(S);var T=new Array();var N=new fw_GetRandomNum(U-1);for(var P=0;P<S;P++){var O=N.getNum();K.push(O);R++}}m=R}else{var R=0;for(var Q=0;Q<e;Q++){var U=G.module[Q].question.length;I.push(U);for(var P=0;P<U;P++){K[R]=P;R++}}m=R}s(v,K[B])}function s(P,O){navigation.removeBlinker();$("body").scrollTop(0);navigationEvent.disableNextButton();var S=d(P,O);var Q=H[0]+(B+1)+H[1]+m;var R=f(S);$(".pageContainer").html(R);var N=J(P,O);w[B]=N;if(S.toLowerCase()=="mcq"){L=new fw_SummativeMCQ(G.module[P].question[O],function(T,U){o(T,U)})}else{if(S.toLowerCase()=="mrq"){L=new fw_SummativeTAWA(G.module[P].question[O],function(T,U){o(T,U)})}}$(".qCount").html(h);$(".btntext").html(G.buttonText[0].text[0].Text);pageTitle.updateTitleByText(Q);$("div[tabindex=1]").focus()}function t(){}function p(){B++;var O=0;v=0;for(var N=0;N<I.length-1;N++){O+=parseInt(I[N]);if((B+1)>O){v++}else{break}}if(B<m){s(v,K[B])}else{v=0;B=0;c()}}function o(O,Q){pageInstruction.updateText(G.instructionText[0].text[0].Text);g[B]=O;navigationEvent.enableNextButton();var P=(g[B].toString()==w[B].toString());if(P){F++}var N=Math.round((F/m)*100);navigationData.userScore=N;a(O,P,w[B].toString());navigation.addBlinker();navigationEvent.updateGlobleFocus(Q)}function a(T,S,N){var U=COURSE_ID+"/question_"+(B+1);U=U.split("/").join(".");var V=A(v,K[B]);var O=d(v,K[B]);var Q=C(v,K[B]);var P=r(N,v,K[B]);var R=r(T.toString(),v,K[B]);R=R.split("~#~").join(", ");if(playerSetting.coursetype==playerSetting.TIN_CAN){fw_TINCAN.updateAssessmentQuestion(U,V,Q,O,R,P,S)}else{dataStore.updateInteraction(B,V,R,P,S)}}function c(){F=0;var Q=false;for(var O=0;O<g.length;O++){if(g[O].toString()==w[O].toString()){F++}}var N=Math.round((F/m)*100);var P="";if(N>=b){Q=false;P="passed";if(isNull(navigationData.passDate)){navigationData.passDate=globalSettings.getTodayDate()}}else{Q=true;P="failed"}navigationData.updateAssessmentScore(N);if(playerSetting.coursetype==playerSetting.TIN_CAN){fw_TINCAN.updateResultsStatement(N,b,"completed")}menuData.pageIndex++;navigation.loadCurrentPage();return false}function f(N){var O="";if(N.toLowerCase()=="mcq"){O='<div class="summativeMCQ" ><div class="topContent"><div class="qCount"></div><div class="pageText pageMargin" ><p></p></div></div> <div class="queContainer clearfix " ><div class="optionContainer mcq " ></div><div class="userFeedback" ><div class="userFeedbackHeader" ></div><div class="userFeedbackText" ></div></div></div></div><div class="pageInstruction assessment" style="display: block;"><p class="instructionText">TEXT</p></div>'}else{if(N.toLowerCase()=="mrq"){O='<div class="summativeTAWA" ><div class="topContent"><div class="qCount"></div><div class="pageText pageMargin" ><p></p></div></div><div class="queContainer clearfix" ><div class="optionContainer mrq " ></div><div class="userFeedback" ><div class="userFeedbackHeader" ></div><div class="userFeedbackText" ></div></div></div></div><div class="pageInstruction assessment" style="display: block;"><p class="instructionText">TEXT</p></div>'}}return O}function d(O,N){return G.module[O].question[N].type}function J(O,N){return G.module[O].question[N].options[0].answer}function z(O,N){return G.module[O].question[N].options[0].option.length}function n(P,O,N){return G.module[P].question[O].options[0].option[N].Text}function A(O,N){return G.module[O].question[N].questionText[0].Text}function x(O,N){return G.module[O].question[N].instructionText[0].Text}function D(O,N){return G.module[O].question[N].feedback[0].correct[0].Text}function l(O,N){return G.module[O].question[N].feedback[0].incorrect[0].Text}function C(P,O){var N=new Array();for(i=0;i<z(P,O);i++){N.push(n(P,O,i))}return N.join("~#~")}function r(O,Q,P){var R=O.split(",");var N=new Array();for(i=0;i<z(Q,P);i++){if(parseInt(R[i])==1){N.push(n(Q,P,i))}}return N.join("~#~")}function E(){w=new Array();g=new Array();K=new Array();I=new Array();v=0;B=0;L=null}function j(){}}function fw_ButtonClass(){this.PLAY_CLASS="playPage";this.PAUSE_CLASS="pausePage";this.REPLAY_CLASS="replayPage";this.TRANSCRIPT_ON_CLASS="transcriptOn";this.TRANSCRIPT_OFF_CLASS="transcriptOff";this.AUDIO_ON_CLASS="audioOn";this.AUDIO_OFF_CLASS="audioOff";this.MENU_BUTTON_CLASS="btn_Menu";this.NEXT_BUTTON_CLASS="btn_Next";this.BACK_BUTTON_CLASS="btn_Back";this.NEXT_BUTTON_BLINK="nextBlink";this.MENU_BUTTON_BLINK="menuBlink";this.GLOSSARY_BUTTON_CLASS="btn_Glossary"}function fw_ComicStrip(o){var z=o;var j="";$(".pageText p").html(z.contentText[0].text[0].Text);globalSettings.addTitle(".pageText",z.contentText[0].text[0].Text);pageInstruction.updateText(z.instructionText[0].text[0].Text);var k="";var D="";var H=z.comicStrip[0].strip.length;var g=599;var p=85.5;var s=0;var m=new Array();var A=new Array();var q=true;var b=navigationData.getCurrentPageData();var v=new Array();this.updatePageLayOut=a;this.pageSwiped=d;var e=false;var f=false;var c=true;var w=5;m[0]=1;x();y();if(b!=""){var F=b.split("~");m=F[0].split("^")}else{m=new Array();for(var C=0;C<H;C++){m.push(0)}}for(var C=0;C<H;C++){A.push(0)}m[0]=1;E();h();$("div[tabindex=1]").focus();var G=$(".pageContainer").height()-22;$(".comicStrip").css("height",G+"px");$.imgpreload(v,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(J){}}});function d(K){if(f){return true}var J=m[s];if(K=="left"){if(s<6){f=true;s++;m[s]=1;n();E()}else{f=true;$(".stripContainer").effect("bounce",{distance:8,times:4,direction:"left"},200,function(){f=false})}}else{if(K=="right"){if(s>0){f=true;s--;m[s]=1;n();E()}else{f=true;$(".stripContainer").effect("bounce",{distance:8,times:4,direction:"right"},200,function(){f=false})}}}if(J==0){I()}}function a(){var L=$(window).width();var J=$(window).height();g=(L>700&&J>550)?599:300;var K=$(".pageContainer").height()-22;$(".comicStrip").css("height",K+"px");if(!q){return false}q=false;x();y();E();h()}function I(){var J=m.join("^")+"~"+s;navigationData.updateCurrentPageData(J)}function x(){k="";D="";w=5;v=new Array();for(var L=0;L<H;L++){var J=u(z.comicStrip[0].strip[L].stripThumImg[0]);var P=z.comicStrip[0].strip[L].stripThumImg[0].title[0].Text;D+='<div class="thumbnail"><div class="thumbId" id="thumb_'+L+'">'+z.comicStrip[0].strip[L].stripThumImg[0].numberText+'</div><img  class="thumbnailImg blackThumb" id="thumbnailImg_'+L+'" src="'+J.path+'" alt="'+J.Text+'" title="" /> <a tabindex="'+w+'" class="thumb_img" id="thumbClick_'+L+'" href="#" ></a></div>';w++;k+='<div class="img_slider" id="slider_'+(L+1)+'" >';var K=u(z.comicStrip[0].strip[L].stripBackground[0]);k+='<img class="csImgBg" id="myImg_'+(L)+'" src="'+K.path+'" alt="'+K.Text+'" title="" tabindex="'+w+'"  />';w++;var N=t(z.comicStrip[0].strip[L].stripCallOut[0]);var O=B(z.comicStrip[0].strip[L].stripCallOut[0]);if(O=="none"){k+='<div class="stripCallOut '+O+' clearfix"  style="left:'+N.x+"px; top:"+N.y+"px; width:"+N.width+'px; display:none; visibility:hidden" >'}else{k+='<div class="stripCallOut '+O+' clearfix"  style="left:'+N.x+"px; top:"+N.y+"px; width:"+N.width+'px;" >'}if(z.comicStrip[0].strip[L].stripCallOut[0].showArrow!="false"){k+='<div class="stripArrow"></div>'}var M=z.comicStrip[0].strip[L].stripCallOut[0].text[0].Text;k+='<div tabindex="'+w+'"  id="mystText_'+(L)+'" class="stripCallOutText" ><p >'+M+"</p></div></div>";w++;if(z.comicStrip[0].strip[L].stripCallOut.length>1){var N=t(z.comicStrip[0].strip[L].stripCallOut[1]);var O=B(z.comicStrip[0].strip[L].stripCallOut[1]);k+='<div class="stripCallOut '+O+' clearfix"  style="left:'+N.x+"px; top:"+N.y+"px; width:"+N.width+'px;" >';if(z.comicStrip[0].strip[L].stripCallOut[1].showArrow!="false"){k+='<div class="stripArrow"></div>'}var M=z.comicStrip[0].strip[L].stripCallOut[1].text[0].Text;k+='<div tabindex="'+w+'" id="mystText_'+(L)+'" class="stripCallOutText" ><p >'+M+"</p></div></div>";w++}k+="</div>";v.push(K.path);v.push(J.path)}$(".stripContainer").html(k);$(".thumbnailContainer").html(D);$(".thumb_img").hover(function(){var R=parseInt($(this).attr("id").split("_")[1]);var Q=$("#thumbnailImg_"+R).hasClass("blackThumb");if($(this).hasClass("thumbSelected")||Q||globalSettings.isIpad||globalSettings.iPhone||globalSettings.Android||globalSettings.BlackBerry){$(this).css("cursor","default");return false}$(this).addClass("thumbHover");$(this).css("cursor","pointer")},function(){$(this).removeClass("thumbHover")});$(".thumb_img").click(function(){if(f){return true}var S=parseInt($(this).attr("id").split("_")[1]);var R=$("#thumbnailImg_"+S).hasClass("blackThumb");if(R){return false}s=S;var Q=m[s];m[s]=1;E();n();if(Q==0){I()}});$(".thumb_img").focus(function(){var S=parseInt($(this).attr("id").split("_")[1]);var R=$("#thumbnailImg_"+S).hasClass("blackThumb");if(R){var Q="a[tabindex="+(w+1)+"]";$(Q).focus();return false}})}function u(P){var N=$(window).width();var K=$(window).height();var M=P.img[0];for(var L=0;L<P.img.length;L++){var O=parseInt(P.img[L].minwidth);var J=parseInt(P.img[L].minheight);if(N>O&&K>J){M=P.img[L]}}return M}function t(O){var M=$(window).width();var K=$(window).height();var P=O.callOut[0];for(var L=0;L<O.callOut.length;L++){var N=parseInt(O.callOut[L].minwidth);var J=parseInt(O.callOut[L].minheight);if(M>N&&K>J){P=O.callOut[L]}}return P}function B(K){var J="stripRight";if(K.align.toLowerCase()=="left"){J="stripLeft"}if(K.isThoughtbubble.toLowerCase()=="true"){J+=" thoughtBubble"}if(K.align==""||K.align==null){J="none"}return J}function n(){$(".img_slider").show();if(s==0){f=true;$(".stripContainer").animate({left:"0px"},400,function(){$(".stripContainer").css("left","0px");if(f){r()}f=false;$(".img_slider").hide();$("#slider_"+(s+1)).show()})}else{f=true;var J=(s*g);$(".stripContainer").animate({left:-J+"px"},400,"swing",function(){$(".img_slider").hide();$("#slider_"+(s+1)).show();$(".stripContainer").css("left",-J+"px");if(f){r()}f=false})}}function r(){}function h(){var K=$(window).width();var J=$(window).height();g=(K>700&&J>550)?599:300;if(s==0){$(".stripContainer").css({left:"0px"},250)}else{$(".stripContainer").css({left:"-"+(s*g)+"px"})}q=true}function E(){$(".thumb_img").removeClass("thumbSelected");$(".thumb_img").removeClass("thumbNext");A[s]=1;for(var J=0;J<H;J++){if(m[J]==1){$("#thumbClick_"+J).removeClass("blackThumb");$("#thumbnailImg_"+J).removeClass("blackThumb")}if(A[J]==1){$("#thumbClick_"+J).addClass("thumbVisited")}}var K=true;for(var J=0;J<H;J++){if(m[J]!=1){$("#thumbClick_"+J).addClass("thumbNext");$("#thumbnailImg_"+J).removeClass("blackThumb");$("#thumbClick_"+J).removeClass("blackThumb");K=false;break}}if(K){pageInstruction.updateText(z.instructionText[0].text[1].Text)}if(K&&!e){e=true;templateMediator.pageVisited()}$("#thumbClick_"+s).removeClass("thumbVisited");$("#thumbClick_"+s).addClass("thumbSelected");if(s<6){$("#thumbnailImg_"+(s+1)).removeClass("blackThumb")}if(c){c=false;l()}return true}function y(){var L=$(window).width();var J=$(window).height();g=(L>700&&J>550)?599:300;p=(L>700&&J>550)?85.5:42.5;for(var K=0;K<H;K++){$(".stripContainer .img_slider:eq("+K+")").css("left",(K*g)+"px");$(".thumbnailContainer .thumbnail:eq("+K+")").css("left",(K*p)+"px")}$(".img_slider").hide();$("#slider_"+(s+1)).show()}function l(){navigationEvent.updateGlobleFocus(w)}}fw_Cookies={};var cookiesAPI=false;var cookiesObject={domain:"htmlCourse.com",path:"/fw_Cookies",expires:"",secure:false};fw_Cookies.init=function(){cookiesAPI=Cookies.enabled;if(cookiesAPI){setTrackData("fw_Cookies.init","","","You have cookies ENABLED",cookiesAPI)}else{setTrackData("fw_Cookies.init","","","You have cookies DISABLED",cookiesAPI)}return cookiesAPI};fw_Cookies.get=function(a,c){if(!cookiesAPI){setTrackData("Get Data",a,"","You have cookies DISABLED",false);return}var b=Cookies.get(a);setTrackData("fw_Cookies.get",a,"",b,true);return b};fw_Cookies.set=function(a,b,c){if(!cookiesAPI){setTrackData("fw_Cookies.set",a,"","You have cookies DISABLED",false);return}setTrackData("fw_Cookies.set",a,b,true,true);Cookies.set(a,b)};fw_Cookies.save=function(){return true};fw_Cookies.finish=function(){return true};fw_Cookies.getTCAPI=function(){return TCDriver_ConfigObject()};function fw_DataCommunication(){this.VAR_BOOKMARK="cmi.core.lesson_location";this.VAR_LESSONSTATUS="cmi.core.lesson_status";this.VAR_SUSPENDDATA="cmi.suspend_data";this.VAR_SESSIONTIME="cmi.core.session_time";this.VAR_SCORE="cmi.core.score.raw";this.USER_RESPONCE=".student_response";this.STUDENT_NAME="cmi.core.student_name";this.VAR_SUCCESS_STATUS="cmi.success_status";var a=false;var n;var f="";var l="";var e="incomplete";var g="";this.init=p;this.getLessonStatus=d;this.updateUserData=u;this.closeCourse=b;this.sendPageStatement=q;this.updateInteraction=h;var o=false;var r="unknown";var m="";function p(){preLoade.showPreLoader("Fetching User Data....");if(playerSetting.isScorm()){n=pipwerks.SCORM}else{if(playerSetting.coursetype==playerSetting.TIN_CAN){n=fw_TINCAN}else{if(playerSetting.isCookies()){n=fw_Cookies}else{if(playerSetting.coursetype==playerSetting.AICC){n=fw_AICC}}}}if(playerSetting.coursetype==playerSetting.STANDALONE){a=false}else{a=n.init()}if(playerSetting.coursetype==playerSetting.SCORM_2004){dataStore.VAR_BOOKMARK="cmi.location";dataStore.VAR_LESSONSTATUS="cmi.completion_status";dataStore.VAR_SUSPENDDATA="cmi.suspend_data";dataStore.VAR_SESSIONTIME="cmi.session_time";dataStore.USER_RESPONCE=".learner_response";dataStore.VAR_SCORE="cmi.score.raw";dataStore.STUDENT_NAME="cmi.learner_name"}if(playerSetting.coursetype==playerSetting.AICC&&a){doLMSGetData(function(){j()})}else{if(a){j()}else{navigationData.createProgressArray(l);navigationData.createBookmarkArray(f);updatePlayer()}}}function j(){l=n.get(dataStore.VAR_SUSPENDDATA);f=n.get(dataStore.VAR_BOOKMARK);navigationData.createProgressArray(l);navigationData.createBookmarkArray(f);e=n.get(dataStore.VAR_LESSONSTATUS);g=n.get(dataStore.VAR_SCORE);navigationData.student_name=n.get(dataStore.STUDENT_NAME);if(isNull(navigationData.student_name)){navigationData.student_name="Student Name"}m=g;if(playerSetting.coursetype==playerSetting.SCORM_2004||playerSetting.coursetype==playerSetting.TIN_CAN){r=n.get(dataStore.VAR_SUCCESS_STATUS)}if(e==null){e="incomplete"}if(e=="completed"||e=="passed"||e=="failed"){e=e}else{e="incomplete"}navigationData.userScore=g;if(t(g)){o=true}else{o=false}if(playerSetting.coursetype==playerSetting.TIN_CAN){n.sendStatusStatement("attempted",true)}updatePlayer()}function q(){preLoade.showPreLoader("Sending User Data...");n.sendStatement(COURSE_ID+"/"+navigationData.getCurrentPageURL(),navigationData.getPageTitle(),navigationData.getPageTitle(),navigationData.getTinCanVerb());preLoade.hidePreLoader()}function s(){if(a&&n!=null){preLoade.showPreLoader("Sending User Data...");n.set(dataStore.VAR_BOOKMARK,navigationData.getBookMarkData());n.set(dataStore.VAR_SUSPENDDATA,navigationData.getSuspendData());n.set(dataStore.VAR_LESSONSTATUS,e);if(t(g)){n.set(dataStore.VAR_SCORE,g)}if(playerSetting.coursetype==playerSetting.SCORM_2004||playerSetting.coursetype==playerSetting.TIN_CAN){n.set(dataStore.VAR_SUCCESS_STATUS,r)}n.save();preLoade.hidePreLoader()}}function d(){return e}function t(x){var w=x;x=parseFloat(x);return(x!="NaN"&&w==x)}function u(){if(a){g=n.get(dataStore.VAR_SCORE)}if(t(navigationData.userScore)){if(g<navigationData.userScore||!t(g)){g=navigationData.userScore}}e="incomplete";var w=0;if(playerSetting.coursetype==playerSetting.SCORM_2004||playerSetting.coursetype==playerSetting.TIN_CAN){w=1}switch(w){case 0:if(t(g)){if(g>=playerSetting.passingScore){e="passed";navigationData.isPass=true}else{e="failed"}}else{e="incomplete"}break;case 1:if(navigationData.checkAllVisited()){e="completed"}else{e="incomplete"}if(t(g)){if(g>=playerSetting.passingScore){r="passed";navigationData.isPass=true}else{r="failed"}}else{r="unknown"}break}s()}function b(){u();if(a&&n!=null){var w=v();n.set(dataStore.VAR_SESSIONTIME,w);n.quit()}}function v(){var w=new Date();var y=globalData.getInitalTime();var x=w.getTime()-y.getTime();if(playerSetting.coursetype==playerSetting.SCORM_2004){return k(x)}else{return c(x)}}function c(C){var A="000"+Math.floor(C/(60*60*1000));var w=(C-(A*60*60*1000));var y="0"+Math.floor(w/(60*1000));var z=w-(y*60*1000);w=w-(z*1000);var x="0"+Math.floor(w/1000);z="0"+Math.floor(z/1000);var B=A.substr(A.length-4)+":"+y.substr(y.length-2)+":"+z.substr(z.length-2)+"."+x.substr(x.length-2);return B}function k(H){var B="";var z;var G;var w;var I;var y;var E;var A;var D=100;var F=D*60;var C=F*60;var x=C*24;var K=x*(((365*4)+1)/48);var J=K*12;z=Math.floor(H/10);A=Math.floor(z/J);z-=(A*J);E=Math.floor(z/K);z-=(E*K);y=Math.floor(z/x);z-=(y*x);I=Math.floor(z/C);z-=(I*C);w=Math.floor(z/F);z-=(w*F);G=Math.floor(z/D);z-=(G*D);if(A>0){B+=A+"Y"}if(E>0){B+=E+"M"}if(y>0){B+=y+"D"}if((z+G+w+I)>0){B+="T";if(I>0){B+=I+"H"}if(w>0){B+=w+"M"}if((z+G)>0){B+=G;if(z>0){B+="."+z}B+="S"}}if(B==""){B="0S"}B="P"+B;return B}function h(z,C,A,B,y){InteractionIndex=z;var x="correct";if(y){x="correct"}else{x="wrong";if(playerSetting.coursetype==playerSetting.SCORM_2004){x="incorrect"}}var w="Question"+(z+1);n.set("cmi.interactions."+InteractionIndex+".id",w);n.set("cmi.interactions."+InteractionIndex+".type","choice");n.set("cmi.interactions."+InteractionIndex+".objectives",C);n.set("cmi.interactions."+InteractionIndex+".correct_responses",B);n.set("cmi.interactions."+InteractionIndex+dataStore.USER_RESPONCE,A);n.set("cmi.interactions."+InteractionIndex+".result",x)}}function fw_Event(){this.PAGE_LOAD_START="pageLoadStart";this.GLOBALDATA_LOAD_COMPLETE="globalDataLoadComplete";this.USERDATA_LOAD_COMPLETE="userDataLoadComplete";this.PAGE_LOAD_COMPLETE="pageLoadComplete";this.PAGE_PLAY="pagePlay";this.PAGE_PAUSE="pagePause";this.PAGE_REPLAY="pageReplay";this.PLAYED_MEDIA="playedMedia";this.PAUSED_MEDIA="pausedMedia";this.ENDED_MEDIA="endedMedia";this.CLEAR_MEDIA="clearMedia";this.AUDIO_ON="audioOn";this.AUDIO_OFF="audioOff";this.TRANSCRIPT_ON="transcriptOn";this.TRANSCRIPT_OFF="transcriptOff";this.TRANSCRIPT_UPDATE="transcriptUpdate";this.BOOKMARK_YES="bookmarkYes";this.BOOKMARK_NO="bookmarkNo";this.CLOSECOURSE_YES="closeCourseYes";this.CLOSECOURSE_NO="closeCourseNo";this.PAGE_PLAY_EXTERNAL="pagePlayExternal";this.PAGE_PAUSE_EXTERNAL="pagePauseExternal"}function fw_FormativeMCQ(j){var s=j;var x=".formativeMCQ .optionButton";var k="optionSelect";var n="optionHover";var e=".optionContainer";var v=new Array();var z=".ok";this.updatePageLayOut=a;$(".pageText p").html(s.contentText[0].text[0].Text);globalSettings.addTitle(".pageText",s.contentText[0].text[0].Text);var q="";var b=s.optionContent[0].option.length;var d=6;var g="";var t=s.optionContent[0].answer.split(",");var p;var w=s.contentBackground[0].img[0].path;var c=s.contentBackground[0].img[0].Text;q+='<div class="mcqBgImg" tabindex="5"><img src="'+w+'" alt="'+c+'" title="" /></div>';q+='<table border="0">';q+='<tr class="cellGap"></tr>';for(var u=0;u<b;u++){var y=s.optionContent[0].option[u].Text;v.push(0);q+='<tr class="optionRow">';q+='<td class="optiontextCell" onclick = "void(0)" ><a class="optionTextClick" tabindex="'+d+'" href="#">'+y+"</a></td>";q+='<td class="optionCell" onclick = "void(0)" ><a  href="javascript:void(0)" class="optionButton" tabindex="'+d+'" id="op_'+u+'" style="cursor: pointer;"></a></td>';q+='<td class="uAnscontainer" ><div class="uAns"></div></td>';q+="</tr>";d++;q+='<tr class="cellGap1"><td></td> <td></td> <td></td> </tr>'}q+="</table>";navigationEvent.updateGlobleFocus(d);$(".optionContainer").html(q);q='<a href ="#" class="a-button ok disabled" tabindex="'+(d+1)+'" ><span class="btntext"></span></a>';$(".pageInstruction").attr("tabIndex",d);$(".optionContainer").append(q);$(".btntext").html(s.buttonText[0].text[0].Text);pageInstruction.updateText(s.instructionText[0].text[0].Text);a();function a(){}$(".optionCell").click(function(){var A=$(this).find(".optionButton");if($(A).hasClass("disabled")){return false}$(x).removeClass(k);$(A).addClass(k);$(".optionCell,.optiontextCell").css("cursor","pointer");$(x).css("cursor","pointer");$(A).css("cursor","default");$(this).css("cursor","default");$(this).parent().find(".optiontextCell").css("cursor","default");r($(A).attr("id"))});$(".optiontextCell").click(function(){var A=$(this).parent().find(".optionButton");if($(A).hasClass("disabled")){return false}$(x).removeClass(k);$(A).addClass(k);$(".optionCell,.optiontextCell").css("cursor","pointer");$(x).css("cursor","pointer");$(A).css("cursor","default");$(this).css("cursor","default");$(this).parent().find(".optionCell").css("cursor","default");r($(A).attr("id"))});$(".optionCell").hover(function(){p=$(this).find(".optionButton");if($(p).hasClass(k)||$(p).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(p).addClass(n)},function(){$(p).removeClass(n)});$(".optiontextCell").hover(function(){p=$(this).parent().find(".optionButton");if($(p).hasClass(k)||$(p).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(p).addClass(n)},function(){$(p).removeClass(n)});var o=new Array(s.contentBackground[0].img[0].path+"");$.imgpreload(o,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(A){}}});function r(B){g="#"+B;var C=parseInt(B.split("op_")[1]);v=new Array();for(var A=0;A<b;A++){v.push(0)}v[C]=1;l(z)}$(z).click(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}f(".optionCell");f(".optiontextCell");f(z);f(x);pageInstruction.updateText(s.instructionText[0].text[1].Text);if(v.toString()==t.toString()){m(s.feedback[0].correct[0]);$(g).closest(".optionRow").addClass("uAnsTick")}else{m(s.feedback[0].incorrect[0]);$(g).closest(".optionRow").addClass("uAnsCross");for(var A=0;A<b;A++){if(parseInt(t[A])==1){$("#op_"+A).closest(".optionRow").addClass("uAnsShow")}}}return false});function m(C){var D="";for(var A=0;A<C.text.length;A++){D+="<div class='insertTab'><p>"+C.text[A].Text+"</p></div><br />"}$(".userFeedback .userFeedbackText").html(D);$(".userFeedback").show();if($(".userFeedback").height()>370){$(".userFeedback").css("height","370px");$(".userFeedbackText").css("height","350px");$(".userFeedbackText").fw_Scroll({color:"#dfb302",width:10})}var E=parseInt(C.transcriptId);var B=s.transcript[0].text[E].path;navigation.playAudioByURL(B);$.fw_Transcript("updateText",s.transcript[0].text[E].Text);templateMediator.pageVisited();h()}function l(A){$(A).removeClass("disabled");$(A).css("cursor","pointer")}function f(A){$(A).addClass("disabled");$(A).css("cursor","default")}function h(){$(".insertTab").removeAttr("tabindex");if($(".userFeedback").is(":visible")){d++;$(".userFeedback .userFeedbackText").find(".insertTab").each(function(){$(this).attr("tabindex",d);d++})}navigationEvent.updateGlobleFocus(d)}}function fw_FormativeMCQChallenge(p){var z=p;var D=".formativeMCQChallenge .optionButton";var q="optionSelect";var t="optionHover";var g=".optionContainer";var I=".ok";this.updatePageLayOut=a;$(".pageText p").html(z.contentText[0].text[0].Text);var b=z.optionContent[0].option.length;var o=z.contentText[0].text.length;var f=6;var l="";var G=0;var v;var x="";var F=new fw_GetRandomNum(b-1);var C=z.contentBackground[0].img[0].path;var d=z.contentBackground[0].img[0].Text;x+='<div class="mcqBgImg" tabindex="5"><img src="'+C+'" alt="'+d+'" title="" /></div>';x+='<table border="0">';x+='<tr class="cellGap"></tr>';for(var A=0;A<b;A++){var B=F.getNum();var w=parseInt(z.optionContent[0].option[B].answer);var k=parseInt(z.optionContent[0].option[B].feedbackId);var E=z.optionContent[0].option[B].Text;x+='<tr class="optionRow">';x+='<td class="optiontextCell" onclick = "void(0)" ><a class="optionTextClick" href="#" tabindex="'+f+'">'+E+"</a></td>";x+='<td class="optionCell" onclick = "void(0)" ><a  href="javascript:void(0)" class="optionButton" tabindex="'+f+'" id="op_'+B+'" style="cursor: pointer;" answer="'+w+'" feedbackId="'+k+'"></a></td>';x+='<td class="uAnscontainer" ><div class="uAns"></div></td>';x+="</tr>";f++;x+='<tr class="cellGap1"><td></td> <td></td> <td></td> </tr>'}x+="</table>";navigationEvent.updateGlobleFocus(f);$(".optionContainer").html(x);x='<a href ="#" class="a-button ok disabled"  tabindex="'+(f+1)+'" ><span class="btntext"></span></a>';$(".pageInstruction").attr("tabIndex",f);$(".optionContainer").append(x);$(".btntext").html(z.buttonText[0].text[0].Text);pageInstruction.updateText(z.instructionText[0].text[0].Text);a();$("div[tabindex=1]").focus();if(o>1){for(var H=1;H<o;H++){var e="etext"+H;var x='<div id="'+e+'" class="posAB" >'+z.contentText[0].text[H].Text+"</div>";$(".formativeMCQChallenge").append(x);setPosition("#"+e,z.contentText[0].text[H])}}function a(){}$(".optionCell").click(function(){var c=$(this).find(".optionButton");if($(c).hasClass("disabled")){return false}$(D).removeClass(q);$(c).addClass(q);$(".optionCell,.optiontextCell").css("cursor","pointer");$(D).css("cursor","pointer");$(c).css("cursor","default");$(this).css("cursor","default");$(this).parent().find(".optiontextCell").css("cursor","default");y($(c).attr("id"))});$(".optiontextCell").click(function(){var c=$(this).parent().find(".optionButton");if($(c).hasClass("disabled")){return false}$(D).removeClass(q);$(c).addClass(q);$(".optionCell,.optiontextCell").css("cursor","pointer");$(D).css("cursor","pointer");$(c).css("cursor","default");$(this).css("cursor","default");$(this).parent().find(".optionCell").css("cursor","default");y($(c).attr("id"))});$(".optionCell").hover(function(){v=$(this).find(".optionButton");if($(v).hasClass(q)||$(v).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(v).addClass(t)},function(){$(v).removeClass(t)});$(".optiontextCell").hover(function(){v=$(this).parent().find(".optionButton");if($(v).hasClass(q)||$(v).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(v).addClass(t)},function(){$(v).removeClass(t)});$(".optionTextClick").focus(function(){$("a[tabindex=3]").focus()});var u=new Array(z.contentBackground[0].img[0].path+"");$.imgpreload(u,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(c){}}});function y(c){l="#"+c;G=parseInt($(l).attr("answer"));r(I)}$(I).click(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}h(".optionCell");h(".optiontextCell");h(I);h(D);pageInstruction.updateText(z.instructionText[0].text[1].Text);if(G==2){s(z.feedback[0].correct[0],G);$(l).closest(".optionRow").addClass("uAnsTick")}else{if(G==1){s(z.feedback[0].partial[0],G);$(l).closest(".optionRow").addClass("uAnsPartially")}else{s(z.feedback[0].incorrect[0],G);$(l).closest(".optionRow").addClass("uAnsCross")}}return false});function s(J){var K="";for(var c=0;c<J.text.length;c++){K+="<div class='insertTab'><p>"+J.text[c].Text+"</p></div><br />"}$(".userFeedback .userFeedbackText").html("<div>"+K+"</div>");$(".userFeedback").show();if($(".userFeedback").height()<=284){$(".userFeedback").css("height","284px");$(".userFeedbackText").css("height","268px")}if($(".userFeedback").height()>284&&$(".userFeedback").height()<=354){$(".userFeedback").css("height","354px");$(".userFeedbackText").css("height","335px")}if($(".userFeedback").height()>354){$(".userFeedback").css("height","360px");$(".userFeedbackText").css("height","340px");$(".userFeedbackText").fw_Scroll({color:"#dfb302",width:10})}if(G==2){$(".userFeedback").addClass("correctFB")}else{if(G==1){$(".userFeedback").addClass("partiallyFB")}else{$(".userFeedback").addClass("inCorrectFB")}}var L=parseInt(J.transcriptId);var j=z.transcript[0].text[L].path;navigation.playAudioByURL(j);$.fw_Transcript("updateText",z.transcript[0].text[L].Text);navigationData.updateProgressData(2);templateMediator.pageVisited();m(G);n()}function m(c){switch(c){case 2:if(menuData.pageIndex==2){navigationData.updateNextPageProgress(1);navigationData.updateNextPageProgress(2);menuData.pageIndex=4}pageInstruction.updateText(z.instructionText[0].text[2].Text);break;case 1:if(menuData.pageIndex==2){pageInstruction.updateText(z.instructionText[0].text[2].Text)}else{if(menuData.pageIndex==4){menuData.pageIndex=3;pageInstruction.updateText(z.instructionText[0].text[3].Text)}}break;case 0:if(menuData.pageIndex==2){menuData.pageIndex=0}else{if(menuData.pageIndex==4){menuData.pageIndex=2}}navigation.allowNext=true;pageInstruction.updateText(z.instructionText[0].text[1].Text);break}}function r(c){$(c).removeClass("disabled");$(c).css("cursor","pointer")}function h(c){$(c).addClass("disabled");$(c).css("cursor","default")}function n(){$(".insertTab").removeAttr("tabindex");if($(".userFeedback").is(":visible")){f++;$(".userFeedback .userFeedbackText").find(".insertTab").each(function(){$(this).attr("tabindex",f);f++})}navigationEvent.updateGlobleFocus(f)}}function fw_FormativeTAWA(g){var q=g;var u=".formativeTAWA .optionButton";var h="optionSelect";var l="optionHover";var d=".optionContainer";var t=new Array();var w=".ok";this.updatePageLayOut=a;$(".pageText p").html(q.contentText[0].text[0].Text);globalSettings.addTitle(".pageText",q.contentText[0].text[0].Text);var o='<table border="0" >';var b=q.optionContent[0].option.length;var c=1;var n;var r=q.optionContent[0].answer.split(",");for(var s=0;s<b;s++){var v=q.optionContent[0].option[s].Text;t.push(0);o+='<tr class="optionRow">';o+='<td class="uAnscontainer" ><div class="uAns"></div></td>';o+='<td class="optionCell" onclick = "void(0)" ><a  href="javascript:void(0)" class="optionButton" tabindex="'+c+'" id="op_'+s+'" style="cursor: pointer;"></a></td>';o+='<td class="optiontextCell" onclick = "void(0)"  ><a class="optionTextClick" href="#">'+v+"</a></td>";o+="</tr>";c++;o+='<tr class="cellGap"><td></td> <td></td> <td></td> </tr>'}o+='</table><a href ="#" class="a-button ok disabled" tabindex="'+c+'" ><span class="btntext"></span></a><div class="answerInstruction"></div>';$(".optionContainer").html(o);$(".formativeTAWA").css("background-image","url("+q.contentBackground[0].img[0].path+")");$(".btntext").html(q.buttonText[0].text[0].Text);pageInstruction.updateText(q.instructionText[0].text[0].Text);$(".answerInstruction").html(q.contentText[0].text[1].Text);a();navigationEvent.updateGlobleFocus(c);$("div[tabindex=1]").focus();function a(){}$(".optionCell").click(function(){var x=$(this).find(".optionButton");if($(x).hasClass("disabled")){return false}f(x)});$(".optiontextCell").click(function(){var x=$(this).parent().find(".optionButton");if($(x).hasClass("disabled")){return false}f(x)});$(".optionCell").hover(function(){n=$(this).find(".optionButton");if($(n).hasClass(h)||$(n).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(n).addClass(l)},function(){$(n).removeClass(l)});$(".optiontextCell").hover(function(){n=$(this).parent().find(".optionButton");if($(n).hasClass(h)||$(n).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(n).addClass(l)},function(){$(n).removeClass(l)});var m=new Array(q.contentBackground[0].img[0].path+"");$.imgpreload(m,{each:function(){},all:function(){try{templateMediator.templateLoadComplete()}catch(x){}}});function f(x){if($(x).hasClass(h)){$(x).removeClass(h);p($(x).attr("id"),0)}else{$(x).addClass(h);p($(x).attr("id"),1)}}function p(x,y){var z=parseInt(x.split("op_")[1]);t[z]=y;if(t.toString().indexOf("1")>=0){j(w)}else{e(w)}}$(".optionTextClick").focus(function(){$("a[tabindex=3]").focus()});$(w).click(function(){if($(this).hasClass("disabled")){return false}e(".optionCell");e(".optiontextCell");e(w);e(u);pageInstruction.updateText(q.instructionText[0].text[1].Text);if(t.toString()==r.toString()){k(q.feedbackCorrect[0])}else{k(q.feedbackIncorrect[0])}for(var x=0;x<b;x++){if(t[x]==r[x]&&t[x]==1){$("#op_"+x).closest(".optionRow").addClass("uAnsTick")}else{if(r[x]==1){$("#op_"+x).closest(".optionRow").addClass("uAnsShow")}else{if(t[x]!=r[x]&&t[x]==1){$("#op_"+x).closest(".optionRow").addClass("uAnsCross")}}}}return false});function k(x){$(".userFeedback").html("<p>"+x.Text+"</p>");$(".userFeedback").show();navigation.playAudioByURL(x.audio);var y=parseInt(x.transcriptId);$.fw_Transcript("updateText",q.transcript[0].text[y].Text);templateMediator.pageVisited()}function j(x){$(x).removeClass("disabled");$(x).css("cursor","pointer")}function e(x){$(x).addClass("disabled");$(x).css("cursor","default")}}function fw_FormativeTrueFalse(m){var w=m;var C=".formativeTrueFalse .optionButton";var o="optionSelect";var r="optionHover";var h=".optionContainer";var B=new Array();var I=".ok";this.updatePageLayOut=a;$(".pageText p").html(w.contentText[0].text[0].Text);globalSettings.addTitle(".pageText",w.contentText[0].text[0].Text);var u="";var f=w.optionContent[0].option.length;var g=5;var k="";var y=new Array();var t;var E=w.optionAnswer[0].text[0].Text;var c=w.optionAnswer[0].text[1].Text;for(var A=0;A<f;A++){var x=w.optionContent[0].option[A].text[0].Text;var e=w.optionContent[0].option[A].text[0].color;var n=w.optionContent[0].option[A].text[0].width;var F=w.optionContent[0].option[A].text[0].height;var H=w.optionContent[0].option[A].text[0].left;var d=w.optionContent[0].option[A].text[0].top;var b=w.optionContent[0].option[A].path[0].width;var G=w.optionContent[0].option[A].path[0].height;var z='style="top:'+d+";left:"+H+";height:"+F+";width:"+n+';"';var D='style="height:'+G+";width:"+b+';"';u+='<div class="opt" id="opt_'+A+'" '+z+'><p class="optTop" ></p><img class="optBg" '+D+' tabindex="'+g+'" title="" />';g++;u+='<span class="optText" tabindex="'+g+'">'+x+"</span>";g++;u+='<div class="optionDiv"><div class="optionRow"><div class="optionLabel" tabindex="'+g+'"><span >'+E+'</span></div><span class="tickCross"></span>';g++;u+='<a  id="op_0_'+A+'"  tabindex="'+g+'" href="#" class="optionButton" ></a></div>';g++;u+='<div class="optionRow"><div class="optionLabel" tabindex="'+g+'"><span>'+c+'</span></div><span class="tickCross"></span>';g++;u+='<a id="op_1_'+A+'"  tabindex="'+g+'" href="#" class="optionButton" ></a></div></div>';g++;u+="</div>";B.push(-1);y.push(w.optionContent[0].option[A].answer.split(","))}$(".pageInstruction").attr("tabIndex",g);u+='<a href ="#" class="a-button ok disabled" tabindex="'+(g+1)+'" ><span class="btntext"></span></a>';$(".optionContainer").html(u);$("#opt_"+A+" .optBg").css("");$(".btntext").html(w.buttonText[0].text[0].Text);pageInstruction.updateText(w.instructionText[0].text[0].Text);for(var A=0;A<f;A++){$("#opt_"+A+" .optBg").attr("src",w.optionContent[0].option[A].path[0].imgPath);$("#opt_"+A+" .optBg").attr("alt",w.optionContent[0].option[A].path[0].Text)}a();l();$("div[tabindex=1]").focus();$(C).click(function(){if($(this).hasClass("disabled")){return false}$(C).removeClass("showCoreect selectCoreect");var M=$(this).parent().parent();$(M).find("a").removeClass(o);$(M).find("a").css("cursor","pointer");$(this).addClass(o);$(this).css("cursor","default");var N=$(this).attr("id").split("op")[1];var L=parseInt(N.split("_")[2]);var J=parseInt(N.split("_")[1]);var K;if(J==0){K=[1,0]}else{K=[0,1]}$(".tickCross").attr("class","tickCross");$(".userFeedback").hide();B[L]=K;v()});function v(){if(B.toString().indexOf("-1")<0){p(I)}}$(I).click(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}j(I);pageInstruction.updateText(w.instructionText[0].text[1].Text);if(B.toString()==y.toString()){q(w.feedback[0].correct[0])}else{q(w.feedback[0].incorrect[0])}for(var K=0;K<B.length;K++){for(var J=0;J<B[K].length;J++){if(B[K][J]==y[K][J]&&B[K][J]==1){var L="#op_"+J+"_"+K;$(L).parent().find(".tickCross").addClass("tick");$(L).addClass("selectCoreect")}else{if(B[K][J]!=y[K][J]&&B[K][J]==1){var L="#op_"+J+"_"+K;$(L).parent().find(".tickCross").addClass("cross")}else{if(B[K][J]!=y[K][J]&&y[K][J]==1){var L="#op_"+J+"_"+K;$(L).addClass("showCoreect")}}}}}return false});function q(L){var M="";for(var J=0;J<L.text.length;J++){M+="<div class='insertTab'><p>"+L.text[J].Text+"</p></div><br />"}$(".userFeedback .userFeedback_text").html(M);$(".userFeedback").show();$(".userFeedback").fw_Scroll({color:"#dfb302",width:10});var N=parseInt(L.transcriptId);var K=w.transcript[0].text[N].path;navigation.playAudioByURL(K);$.fw_Transcript("updateText",w.transcript[0].text[N].Text);templateMediator.pageVisited();l()}var s=new Array(w.contentBackground[0].img[0].path+"");$.imgpreload(s,{each:function(){},all:function(){try{templateMediator.templateLoadComplete()}catch(J){}}});function p(J){$(J).removeClass("disabled");$(J).css("cursor","pointer")}function j(J){$(J).addClass("disabled");$(J).css("cursor","default")}function a(){}function l(){$(".insertTab").removeAttr("tabindex");if($(".userFeedback").is(":visible")){g++;$(".userFeedback .userFeedback_text").find(".insertTab").each(function(){$(this).attr("tabindex",g);g++})}navigationEvent.updateGlobleFocus(g)}}function fw_GetRandomNum(c){var d=c;var b=new Array();this.getNum=a;function a(){var e=0;if(b!=null){var g=false;while(!g){e=Math.round(Math.random()*d);g=true;for(var f=0;f<b.length;f++){if(e==b[f]){g=false;break}}}}else{e=Math.round(Math.random()*d)}b.push(e);return e}}function fw_GlobalData(){this.playerSettingXML;this.navigationXML;this.navigationTextXML;this.assessmentXML;this.glossaryXML;this.getInitalTime=c;this.loadUserProfileData=g;f();var h;function c(){return h}function f(){h=new Date();$.ajax({type:"GET",url:"framework/xml/playersetting.xml",dataType:"xml",success:function(j){globalData.playerSettingXML=$.xmlToJSON(j);e()},error:function(j){var k=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;if(k){$(".CB").css("display","block");$(".preLoaderParent").css("display","none")}else{alert("playerSetting.xml Not found")}}})}function e(){$.ajax({type:"GET",url:"content/xml/navigation.xml",dataType:"xml",success:function(j){globalData.navigationXML=$.xmlToJSON(j);$(globalData).trigger(courseEvent.GLOBALDATA_LOAD_COMPLETE)},error:function(j){alert("navigation.xml Not found")}})}function g(){d()}function d(){$.ajax({type:"GET",url:"content/"+globalPath.userLanguage+"/menu.xml",dataType:"xml",success:function(j){globalData.navigationTextXML=$.xmlToJSON(j);b()},error:function(j){alert("menu.xml Not found")}})}function b(){$.ajax({type:"GET",url:"content/"+globalPath.userLanguage+"/glossary.xml",dataType:"xml",success:function(j){globalData.glossaryXML=$.xmlToJSON(j);a()},error:function(j){alert("glossary.xml Not found")}})}function a(){$.ajax({type:"GET",url:"content/"+globalPath.userLanguage+"/assessment.xml",dataType:"xml",success:function(j){globalData.assessmentXML=$.xmlToJSON(j);$(globalData).trigger(courseEvent.USERDATA_LOAD_COMPLETE)},error:function(j){alert("assessment.xml Not found")}})}}function fw_GlobalPath(){this.AUDIO_PATH="content/audio/";this.VIDEO_PATH="content/video/";this.PAGE_PATH="content/pages/";this.PDF_PATH="content/pdf/";this.TEMPLATE_PATH="content/template/";this.XMLPath="content/eng";this.userLanguage="eng"}function fw_GlobalSettings(){this.isIpad=navigator.userAgent.match(/iPad/i)!=null?true:false;this.Android=navigator.userAgent.match(/Android/i)!=null?true:false;this.BlackBerry=navigator.userAgent.match(/BlackBerry/i)!=null?true:false;this.iPhone=navigator.userAgent.match(/iPhone|iPod/i)!=null?true:false;this.isPortrait=c;this.updateLayOut=p;this.isDesktop=g;this.isMobile=m;this.addTitle=a;this.closestNumber=n;this.addAlt=h;var b=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday");var d=new Array("January","February","March","April","May","June","July","August","September","October","November","December");this.getTodayDate=o;if(this.iPhone||this.Android||this.BlackBerry||this.isIpad){$("#hoverCss").remove()}else{}function o(){var e=new Date();var q=d[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear();return q}function c(){if($(window).width()<$(window).height()){return true}else{return false}}window.onorientationchange=function(){p();$("body").scrollTop(0)};$(window).resize(function(){p()});function f(){var q=window.location;var e=q.href.lastIndexOf("/");return q.href.substring(0,q.href.lastIndexOf("/")+1)}function g(){if(globalSettings.isIpad||globalSettings.iPhone||globalSettings.Android||globalSettings.BlackBerry){return false}else{return true}}function m(){if(globalSettings.iPhone||globalSettings.Android||globalSettings.BlackBerry){return true}else{return false}}function p(){$(".wrapper").css("width","1010px");$(".wrapper").css("height","650px");$(".pageContainer").css("height","522px");if(menuData.moduleIndex<=0&&menuData.pageIndex<=1){$(".pageContainer").css("height","570px")}if(globalSettings.isIpad&&!c()){var q=innerHeight;var s=$(".header").height();var e=$(".footer").height();var r=q-(s+e);$(".wrapper").css({height:q+"px",width:"1024px"});$(".pageContainer").css("height",r+"px");if(menuData.moduleIndex<=0&&menuData.pageIndex<=1){$(".pageContainer").css("height",(q-s)+"px")}}l();return true}function l(){if(!globalSettings.isIpad){return false}if(globalSettings.isPortrait()){var r=1010;var q=$(window).width()/r;var e="scale("+q+")";$(".wrapper").css("MozTransform",e).css("transform",e).css("WebkitTransform",e)}else{var e="scale(1)";$(".wrapper").css("MozTransform",e).css("transform",e).css("WebkitTransform",e)}$(".wrapper").css("transform-origin","0 0");$(".wrapper").css("ms-transform-origin","0 0");$(".wrapper").css("-webkit-transform-origin","0 0");return true}function a(q,r){return true;var e=r.replace(/(<([^>]+)>)/ig,"");$(q).attr("title",e)}function h(q,r){return true;var e=r.replace(/(<([^>]+)>)/ig,"");$(q).attr("alt",e)}var k=/chrome/i.test(navigator.userAgent);if(k){try{this.window.resizeBy(1,1);this.window.resizeBy(-1,-1)}catch(j){}}function n(u,s){var t=0;var q=1000;var r;for(t in u){var e=Math.abs(s-u[t]);if(e<q){q=e;r=u[t]}}return r}}function fw_GraphicReveal(j){var s=j;var f="";var w=".revealButton";var l="revealButtonSelect";this.updatePageLayOut=a;$(".pageText p").html(s.contentText[0].text[0].Text);var r="";var b=navigationData.getCurrentPageData();var z=new Array();var o=new Array();var m=new Array();var v=false;var h=s.contentText[0].text.length;var q=s.type.toLowerCase();var u=0;var p=8;var k=".graphicReveal1";var d=new Array("graphicReveal1","graphicReveal2","graphicReveal3");for(var t=0;t<d.length;t++){if(q==d[t].toLowerCase()){u=t;break}}k="."+d[u];$(".graphicReveal1").attr("class",d[u]);if(b!=""){z=b.split("^")}else{z.push(0)}$(".graphicRevealBg").attr("src",s.contentBackground[0].img[0].path);$(".graphicRevealBg").attr("alt",s.contentBackground[0].img[0].Text);if(u==0){$(".popUpImg").attr("src",s.revelCollOut[0].img[0].path);$(".popUpImg").attr("alt",s.revelCollOut[0].img[0].Text);$(w).html(s.RevealButton[0].buttonText[0].Text);setPosition($(w),s.RevealButton[0])}else{$(".popUpImg").remove();$(w).html(s.RevealButton[0].buttonText[0].Text);setPosition($(w),s.RevealButton[0])}$(k).find(".tickCross").css({left:s.tickCross[0].left,top:s.tickCross[0].top});pageInstruction.updateText(s.instructionText[0].text[0].Text);if(h>1){for(var x=1;x<h;x++){var e="etext"+x;var r='<div id="'+e+'" class="posAB" >'+s.contentText[0].text[x].Text+"</div>";$(k).append(r);setPosition("#"+e,s.contentText[0].text[x])}}g();$(w).click(function(){if($(this).hasClass(l)){$("div[tabindex=1]").focus();return false}if($(this).find("span").hasClass("replaceStyle")){$(w).html(s.RevealButton[0].buttonText[1].Text)}$(this).addClass(l);g();$(this).css("border-color","transparent");var C=s.revelCollOut[0].width;var c=s.revelCollOut[0].left;var F=s.revelCollOut[0].top;var A=s.revelCollOut[0].height;if(s.revelCollOut[0].animate.toLowerCase()=="true"){var H=$(this).css("left");var G=(getNumber($(this).css("top"))+20)+"px";$(".popUpContainer").css({width:"40px",height:"40px",left:H,top:G});$(".popUpContainer").show();$(".popUpContainer").animate({width:C,height:A,left:c,top:F},200,function(){$(".popUpText p").html(s.revelCollOut[0].revelText[0].Text);$(".popUpText").find(".tabSum").each(function(){$(this).attr("summary",$(this).text())})})}else{$(".popUpContainer").show();$(".popUpContainer").css({width:C,height:A,left:c,top:F});var B="stripRight";if(s.revelCollOut[0].align.toLowerCase()=="left"){B="stripLeft"}if(s.revelCollOut[0].align.toLowerCase()=="top"){B="stripTop"}var E='<div class="popUpCallOut '+B+' clearfix"><div class="popUpArrow"></div><div class="popUpCallOutText" >';E+=s.revelCollOut[0].revelText[0].Text;E+="</div></div>";g();$(".popUpContainer").html(E);$(".popUpContainer").find(".tabSum").each(function(){$(this).attr("summary",$(this).text());$(this).attr("tabindex",p)});var D=getNumber(C)-82;$(".popUpCallOutText").css("width",D+"px");if(B=="stripLeft"){$(".popUpCallOutText").css("left","82px");$(".popUpArrow").css({left:"0px",top:s.revelCollOut[0].yGap})}else{if(B=="stripTop"){$(".popUpCallOutText").css({left:"0px",width:s.revelCollOut[0].textWidth});$(".popUpArrow").css({left:s.revelCollOut[0].xGap,top:"0px",top:s.revelCollOut[0].yGap})}else{$(".popUpCallOutText").css("left","0px");$(".popUpArrow").css({left:(getNumber(C)-82)+"px",top:s.revelCollOut[0].yGap})}}}z[0]=1;y();$(this).parent().find(".tickCross").addClass("tick");pageInstruction.updateText(s.instructionText[0].text[1].Text);templateMediator.pageVisited()});$(".closePopUp").click(function(){$(".popUpContainer").hide();$(w).removeClass(l)});var n=new Array();n.push(s.contentBackground[0].img[0].path);if(u==0){n.push(s.revelCollOut[0].img[0].path)}$.imgpreload(n,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(c){}}});function y(){var c=z.join("^");navigationData.updateCurrentPageData(c)}function a(){}function g(){navigationEvent.updateGlobleFocus(12)}}function fw_HotSpot(s){var H=s;var j="";var e=".hotSpotButton";var n="hotSpotSelect";var F="hotSpotHover";this.updatePageLayOut=v;var w=H.contentText[0].text[0].marginLeft;var u=H.contentText[0].text[0].marginTop;var h=H.hotSpotContent[0].hotSpot.length;var C="";var K=navigationData.getCurrentPageData();var t=new Array();var m=new Array();var y=new Array();var q=false;var o=7;var k=0;var A=false;var B;var r=H.type.toLowerCase();var d=0;var G=".hotSpot1";var b=new Array("hotSpot1","hotSpot2","hotSpot3","hotSpot4");for(var M=0;M<b.length;M++){if(r==b[M].toLowerCase()){d=M;break}}if(d==2){$(".pageText").removeAttr("tabindex");var z="margin-left:"+w+";margin-top:"+u;var c="<div tabindex='5' style='"+z+"'><p>"+H.contentText[0].text[0].Text+"</p></div>";if(H.contentText[0].text.length>1){c+="<div tabindex='6' style='"+z+"'><p>"+H.contentText[0].text[1].Text+"</p></div>";o+=1;$(".pageInstruction").attr("tabindex",7)}$(".pageText").html(c)}else{$(".pageText p").html(H.contentText[0].text[0].Text);$(".pageText p").css({"margin-left":w,"margin-top":u})}G="."+b[d];$(".hotSpot1").attr("class",b[d]);if(K!=""){t=K.split("^")}else{for(var M=0;M<h;M++){t.push(0)}}var N=H.className;$(G).addClass(N);if(d==0){var f=H.contentBackground[0].img[1].path;var a=H.contentBackground[0].img[1].Text;C+='<img class="hSContainer"  src="'+f+'" alt="'+a+'" tabindex="'+o+'" />'}for(var M=0;M<h;M++){var g=H.hotSpotContent[0].hotSpot[M].buttonText[0].Text;var E="hot_"+M;if(d==0){var L=H.hotSpotContent[0].hotSpot[M].img[0].path;var P=H.hotSpotContent[0].hotSpot[M].img[0].left;var J=H.hotSpotContent[0].hotSpot[M].img[0].top;var D=H.hotSpotContent[0].hotSpot[M].img[0].Text;C+='<img src="'+L+'" alt="'+D+'" title="" class="btnImg posAB" style="left:'+P+";top:"+J+';"  /><div class="hotSpotContaint" id="'+E+'"  ><span class="tickCross"></span><a class="hotSpotButton"  href="#" tabindex="'+o+'"><table class="tabText" ><tr><td>'+g+"</td></tr></table></a></div>"}else{if(d==1){var p=H.contentBackground[0].img[M].path;var Q=H.conTextBackground[0].img[0].path;var D=H.contentBackground[0].img[M].Text;C+='<div class="hotSpotContaint" id="'+E+'" ><span id="tick_'+M+'" class="tickCross"></span><a tabindex="'+o+'" class="hotSpotButton"  href="#"><img src="'+p+'" alt="'+D+'" class="pImg" title="" /><img src="'+Q+'" class="hsTextImg" title="" /><span class="hotSpotText">'+g+"</span></a></div>"}else{if(d==3){C+='<div class="hotSpotContaint" id="'+E+'" ><span id="tick_'+M+'" class="tickCross"></span><a tabindex="'+o+'" class="hotSpotButton transparentBg"  href="#"><span class="hotSpotText">'+g+"</span></a></div>"}else{C+='<div class="hotSpotContaint" id="'+E+'" ><span class="tickCross"></span><a tabindex="'+o+'" class="hotSpotButton transparentBg"  href="#"><table class="tabText" ><tr><td>'+g+"</td></tr></table></a></div>"}}}y.push("#"+E);m.push(0);o++}if(d==0){$(".popUpImg").attr("src",H.popBackground[0].img[0].path)}else{$(".popUpImg").remove()}$(".hotSpotContainer").html(C);for(var M=0;M<h;M++){setPosition(y[M],H.hotSpotContent[0].hotSpot[M]);if(d==0){var I=$(y[M]).find("a");$(I).css({paddingTop:H.hotSpotContent[0].hotSpot[M].buttonText[0].paddingTop,height:H.hotSpotContent[0].hotSpot[M].buttonText[0].height})}}pageInstruction.updateText(H.instructionText[0].text[0].Text);if((N!="m01s04")&&(d!=1)){$(".hotspotBg").attr("src",H.contentBackground[0].img[0].path);$(".hotspotBg").attr("alt",H.contentBackground[0].img[0].Text);$(".hotspotBg").attr("title","")}if(N=="m01s04"){$(".hotspotBg").remove()}$(e).hover(function(){if($(this).hasClass(n)||(!globalSettings.isDesktop())){return false}if(d==1){$(this).find(".hsTextImg").attr("src",H.conTextBackground[0].img[1].path)}$(this).addClass(F)},function(){if(d==1&&!$(this).hasClass(n)){$(this).find(".hsTextImg").attr("src",H.conTextBackground[0].img[0].path)}$(this).removeClass(F)});O();$(e).click(function(){if($(this).hasClass(n)){return false}$(e).removeClass(n);$(e).removeClass(F);$(this).addClass(n);if(d==1){$(".pImg").attr("style","");$(e).find(".hsTextImg").attr("src",H.conTextBackground[0].img[0].path);$(this).find(".hsTextImg").attr("src",H.conTextBackground[0].img[2].path)}var W=parseInt($(this).parent().attr("id").split("hot_")[1]);k=W;$(".popUpContainer").hide();if(d==0){var S=$(this).parent().css("left");var V=(getNumber($(this).parent().css("top"))+20)+"px";$(".popUpContainer").css({width:"40px",height:"40px",left:S,top:V});$(".popUpText, .closePopUp").hide();$(".popUpContainer").show();$(".popUpContainer").animate({width:"509px",height:"385px",left:"477px",top:"45px"},500,function(){O();$(".popUpText").html(H.hotSpotContent[0].hotSpot[W].popText[0].Text);$(".popUpText,.closePopUp").show()})}else{var U="";for(var T=0;T<H.hotSpotContent[0].hotSpot[W].popText[0].text.length;T++){U+="<div class='insertTab'><p>"+H.hotSpotContent[0].hotSpot[W].popText[0].text[T].Text+"</p></div><br />"}$(".popUpText").html(U);$(".popUpText,.closePopUp").show();/*boffin code begin*/var reg=new RegExp("\<[^>]+\>","g"); $(".hotSpot2PopHeader p").html(H.hotSpotContent[0].hotSpot[W].buttonText[0].Text.replace(reg,""));/*boffin code end*/$(".popUpContainer").slideDown("slow",function(){O()});O()}var R=parseInt(t[W]);t[k]=1;m[k]=1;if(R==0){x()}$(this).parent().find(".tickCross").addClass("tick");if(m.toString().indexOf("0")<0&&!A){A=true;pageInstruction.updateText(H.instructionText[0].text[1].Text);templateMediator.pageVisited()}});$(".closePopUp").click(function(){$(".popUpContainer").hide();if(d==1){$(e).find(".hsTextImg").attr("src",H.conTextBackground[0].img[0].path)}$(e).removeClass(n);O();return true});$(".closePopUp").focusout(function(){var S=Number($("#hot_"+k).find(".hotSpotButton").attr("tabindex"));if(k==(h-1)){var R="a[tabindex="+(B+1)+"]";$(R).focus()}else{$("#hot_"+(k+1)+" a").focus()}});var l=new Array();for(var M=0;M<H.contentBackground[0].img.length;M++){l.push(H.contentBackground[0].img[M].path)}if(d==0){l.push(H.popBackground[0].img[0].path)}$.imgpreload(l,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(R){}}});function x(){var R=t.join("^");navigationData.updateCurrentPageData(R)}function v(){}function O(){$(".popUpImg, .popUpText, .closePopUp, .hotSpot2PopHeader").removeAttr("tabindex");B=7;$(".insertTab").removeAttr("tabindex");for(var R=0;R<=h;R++){$("#hot_"+R).find(".hotSpotButton").attr("tabindex",B);B++;if($(".popUpContainer").is(":visible")&&R==k){$("#hot_"+R).find(".hotSpotButton").attr("tabindex",B);B++;$(".popUpContainer .hotSpot2PopHeader").attr("tabindex",B);B++;$(".popUpContainer .popUpText").find(".insertTab").each(function(){$(this).attr("tabindex",B);B++});$(".popUpContainer .closePopUp").attr("tabindex",B);B++}}navigationEvent.updateGlobleFocus(B)}}function fw_HotSpotCustom(p){var E=p;var g="";var b=".hotSpotButton";var l="hotSpotSelect";var C="hotSpotHover";this.updatePageLayOut=s;var t=E.contentText[0].text[0].marginLeft;var r=E.contentText[0].text[0].marginTop;var f=E.hotSpotContent[0].hotSpot.length;var y="";var H=navigationData.getCurrentPageData();var q=new Array();var k=new Array();var v=new Array();var n=false;var m=6;var h=0;var w=false;var x;var o=E.type.toLowerCase();var D=".hotSpotCustom";$(".pageText p").html(E.contentText[0].text[0].Text);$(".pageText p").css({"margin-left":t,"margin-top":r});if(H!=""){q=H.split("^")}else{for(var J=0;J<f;J++){q.push(0)}}var K=E.className;$(".hotSpotCustom").addClass(K);var c=E.contentBackground[0].img[1].path;var a=E.contentBackground[0].img[1].Text;y+='<img class="hSContainer"  src="'+c+'" alt="'+a+'" title="" tabindex="'+m+'" />';for(var J=0;J<f;J++){var d=E.hotSpotContent[0].hotSpot[J].buttonText[0].Text;var A="hot_"+J;var e="btnImg_"+J;var I=E.hotSpotContent[0].hotSpot[J].img[0].path;var M=E.hotSpotContent[0].hotSpot[J].img[0].left;var G=E.hotSpotContent[0].hotSpot[J].img[0].top;var z=E.hotSpotContent[0].hotSpot[J].img[0].Text;y+='<img id="'+e+'" src="'+I+'" alt="'+z+'" title="" class="btnImg posAB" style="left:'+M+";top:"+G+';"  /><div class="hotSpotContaint" id="'+A+'"  ><span class="tickCross"></span><a class="hotSpotButton"  href="#" tabindex="'+m+'"><table class="tabText" ><tr><td>'+d+"</td></tr></table></a></div>";v.push("#"+A);k.push(0)}$(".popUpImg").attr("src",E.popBackground[0].img[0].path);$(".hotSpotContainer").html(y);for(var J=0;J<f;J++){setPosition(v[J],E.hotSpotContent[0].hotSpot[J]);var F=$(v[J]).find("a");$(F).css({paddingTop:E.hotSpotContent[0].hotSpot[J].buttonText[0].paddingTop,height:E.hotSpotContent[0].hotSpot[J].buttonText[0].height})}pageInstruction.updateText(E.instructionText[0].text[0].Text);$(".hotspotBg").attr("src",E.contentBackground[0].img[0].path);$(".hotspotBg").attr("alt",E.contentBackground[0].img[0].Text);$(".hotspotBg").attr("title","");$(b).hover(function(){if($(this).hasClass(l)||(!globalSettings.isDesktop())){return false}$(this).addClass(C)},function(){$(this).removeClass(C)});L();$(b).click(function(){if($(this).hasClass(l)){return false}$(b).removeClass(l);$(b).removeClass(C);$(this).addClass(l);var Q=parseInt($(this).parent().attr("id").split("hot_")[1]);h=Q;$(".popUpContainer").hide();var O=$(this).parent().css("left");var P=(getNumber($(this).parent().css("top"))+20)+"px";$(".popUpContainer").css({width:"40px",height:"40px",left:O,top:P});$(".popUpText, .closePopUp").hide();$(".popUpContainer").show();$(".popUpContainer").animate({width:"509px",height:"385px",left:"477px",top:"45px"},500,function(){var T="";for(var R=0;R<E.hotSpotContent[0].hotSpot[Q].popText[0].text.length;R++){var S="pText"+R;T+='<div id="'+S+'" class="insertTab">'+E.hotSpotContent[0].hotSpot[Q].popText[0].text[R].Text+"</div><br />";B("#"+S,E.hotSpotContent[0].hotSpot[Q].popText[0].text[R])}$(".popUpText").html(T);L();$(".popUpText,.closePopUp").show()});var N=parseInt(q[Q]);q[h]=1;k[h]=1;if(N==0){u()}$(this).parent().find(".tickCross").addClass("tick");if(k.toString().indexOf("0")<0&&!w){w=true;pageInstruction.updateText(E.instructionText[0].text[1].Text);templateMediator.pageVisited()}});$(".closePopUp").click(function(){$(".popUpContainer").hide();$(b).removeClass(l);L();return true});$(".closePopUp").focusout(function(){var O=Number($("#hot_"+h).find(".hotSpotButton").attr("tabindex"));if(h==(f-1)){var N="a[tabindex="+(x+1)+"]";$(N).focus()}else{$("#hot_"+(h+1)+" a").focus()}});var j=new Array();for(var J=0;J<E.contentBackground[0].img.length;J++){j.push(E.contentBackground[0].img[J].path)}j.push(E.popBackground[0].img[0].path);$.imgpreload(j,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(N){}}});function u(){var N=q.join("^");navigationData.updateCurrentPageData(N)}function s(){}function B(O,R){var X=(R.color==null?"#333740":R.color);var V=(R.fontSize==null?"14px":R.fontSize);var Q=(R.fontWeight==null?"normal":R.fontWeight);var P=(R.textAlign==null?"left":R.textAlign);var N=(R.width==null?"auto":R.width);var U=(R.height==null?"auto":R.height);var W=(R.left==null?"":R.left);var T=(R.top==null?"":R.top);var S=(R.position==null?"absolute":R.position);if(R.position!=null){$(O).removeClass("posAB")}$(O).css({left:W,top:T,color:X,width:N,height:U,"font-size":V,"font-weight":Q,"text-align":P,position:S})}function L(){$(".popUpImg, .popUpText, .closePopUp, .popUpImg").removeAttr("tabindex");x=7;$(".insertTab").removeAttr("tabindex");for(var N=0;N<=f;N++){$("#btnImg_"+N).attr("tabindex",x);x++;$("#hot_"+N).find(".hotSpotButton").attr("tabindex",x);x++;if($(".popUpContainer").is(":visible")&&N==h){$("#btnImg_"+N).attr("tabindex",x);x++;$("#hot_"+N).find(".hotSpotButton").attr("tabindex",x);x++;$(".popUpContainer .popUpImg").attr("tabindex",x);x++;$(".popUpContainer .popUpText").find(".insertTab").each(function(){$(this).attr("tabindex",x);x++});$(".popUpContainer .closePopUp").attr("tabindex",x);x++}}navigationEvent.updateGlobleFocus(x)}}function fw_KnowledgeCheckIntro(k){var j=k;var e="";var b=playerSetting.assessmentRandomize;var l=globalData.assessmentXML;var n=l.module.length;var m=0;this.updatePageLayOut=a;var h=0;var g=navigationData.userScore>=playerSetting.passingScore?true:false;if(b){for(var f=0;f<n;f++){h+=parseInt(l.module[f].pick)}m=h}else{for(var f=0;f<n;f++){h+=l.module[f].question.length}m=h}$(".KC_Img").attr("src",j.contentImage[0].img[0].path);$(".KC_Img").attr("alt",j.contentImage[0].img[0].Text);$(".KC_Info").html(j.contentText[0].text[0].Text);$(".KC_totQue").html(j.contentText[0].text[1].Text+" "+m);/*boffin*/if (globalPath.userLanguage=="de" || globalPath.userLanguage=="fre"){$(".KC_passingPer").html(j.contentText[0].text[2].Text+" "+playerSetting.passingScore+" %");} else {$(".KC_passingPer").html(j.contentText[0].text[2].Text+" "+playerSetting.passingScore+"%");}/*boffin*/if(navigationData.isPass){var d=j.buttonText[0].text[0].Text;$(".KC_Text").append('<a class="a-button printbtn" href="#"><span class="btntext">'+d+"</span></a>")}pageInstruction.updateText(j.instructionText[0].text[0].Text);a();var c=new Array();for(var f=0;f<j.contentImage[0].img.length;f++){c.push(j.contentImage[0].img[f].path)}$.imgpreload(c,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus();templateMediator.pageVisited();if(navigationData.isPass){navigationEvent.updateGlobleFocus()}else{navigationEvent.updateGlobleFocus()}}catch(o){}}});function a(){var r=$(window).width();var o=$(window).height();var t="";for(var p=0;p<j.contentImage[0].img.length;p++){var s=parseInt(j.contentImage[0].img[p].minwidth);var q=parseInt(j.contentImage[0].img[p].minheight);if(r>s&&o>q){t=j.contentImage[0].img[p].path}}if((e!=t)){$(".KC_Img").attr("src",t);e=t}}}function fw_KnowledgeCheckSummary(q){var p=q;var g="";var n="";this.updatePageLayOut=a;var j=navigationData.userScore>=playerSetting.passingScore?true:false;var o="";var d;var k;var m=5;if(j){o+='<p class="userPass">'+p.contentText[0].text[0].Text+"</p>";var f="";for(var h=0;h<p.feedbackPass[0].text.length;h++){f+="<div class='insertTab'><p>"+p.feedbackPass[0].text[h].Text+"</p></div><br />"}o+='<div class="fCorrect">'+f+"</div>";k=p.feedbackPass[0];d=p.contentImagePass[0]}else{var f="";for(var h=0;h<p.feedbackFail[0].text.length;h++){f+="<div class='insertTab'><p>"+p.feedbackFail[0].text[h].Text+"</p></div><br />"}o+='<div class="fIncorrect">'+f+"</div>";k=p.feedbackFail[0];d=p.contentImageFail[0]}o=o.replace("##",navigationData.userScore);o=o.replace("#",playerSetting.passingScore);$(".KC_Info").html(o);$(".KC_Info .fIncorrect").find(".insertTab").each(function(){$(this).attr("tabindex",m);m++});navigationEvent.checkTranscriptState();if(navigationData.isPass){var e=p.buttonText[0].text[0].Text;$(".KC_Info").append('<a tabindex="1" class="a-button printbtn" href="#"><span class="btntext">'+e+"</span></a>");pageInstruction.updateText(p.instructionText[0].text[0].Text)}else{pageInstruction.updateText(p.instructionText[0].text[1].Text)}a();var b=new Array();for(var h=0;h<d.img.length;h++){b.push(d.img[h].path)}$.imgpreload(b,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();templateMediator.pageVisited();l(k);if(navigationData.isPass){}else{navigationData.resetCurrentPageProgress()}}catch(r){}}});function l(s){var t=parseInt(s.transcriptId);var r=p.transcript[0].text[t].path;navigation.playAudioByURL(r);$.fw_Transcript("updateText",p.transcript[0].text[t].Text);c()}function a(){var v=$(window).width();var r=$(window).height();var y="";var s="";var x;if(j){x=p.contentImagePass[0]}else{x=p.contentImageFail[0]}for(var t=0;t<x.img.length;t++){var w=parseInt(x.img[t].minwidth);var u=parseInt(x.img[t].minheight);if(v>w&&r>u){y=x.img[t].path;s=x.img[t].Text}}if((g!=y&&n!=s)){$(".KC_Img").attr("src",y);$(".KC_Img").attr("alt",s);g=y;n=s}}function c(){navigationEvent.updateGlobleFocus(m)}}function fw_MediaPlayer(){var s=false;var n=false;this.audioON=d;this.audioOFF=m;this.loadAudio=o;this.playPlayer=b;this.pausePlayer=t;this.clearAudio=j;this.mediaEvent=f;var g;$(pageContainer).bind(courseEvent.PAGE_LOAD_COMPLETE,function(u){h()});$(pageContainer).bind(courseEvent.PAGE_LOAD_START,function(u){j();e();t()});function h(){if(navigationData.isAssessmentPage()){j();return false}if(playerSetting.isAudio||(globalSettings.isDesktop())){var u=navigationData.getPageAudioURL();if(u==""||u==null||u.toLowerCase()=="none"){return false}o(u)}}function o(u){if(u.indexOf("none")>=0){u="content/"+globalPath.userLanguage+"/audio/blank.mp3"}u=p(u);auPlayer.loadAudioURL(u)}function p(v){var u=v.substr(v.lastIndexOf(".")+1);u=u.toLowerCase();if(u.indexOf("mp3")>=0||u.indexOf("ogg")>=0||u.indexOf("webm")>=0||u.indexOf("mp4")>=0){v=v.substr(0,v.lastIndexOf("."))}return v}function f(v,u){switch(v){case"ended":q();break;case"play":l();break;case"pause":c();break;case"progress":break}}function l(){$(mediaPlayer).trigger(courseEvent.PLAYED_MEDIA)}function c(){$(mediaPlayer).trigger(courseEvent.PAUSED_MEDIA)}function q(){$(mediaPlayer).trigger(courseEvent.ENDED_MEDIA)}function d(){if(globalSettings.isDesktop()){try{auPlayer.setVolume(1)}catch(u){}}else{playerSetting.isAudio=true;h()}$(mediaPlayer).trigger(courseEvent.AUDIO_ON)}function m(){if(globalSettings.isDesktop()){try{auPlayer.setVolume(0)}catch(u){}}else{j();playerSetting.isAudio=false}$(mediaPlayer).trigger(courseEvent.AUDIO_OFF)}function b(){try{auPlayer.play()}catch(u){}}function t(){try{auPlayer.pause()}catch(u){}}function j(){try{auPlayer.pause()}catch(u){}$(mediaPlayer).trigger(courseEvent.CLEAR_MEDIA)}function k(u){}function r(x,v,u,w){}function a(x,v,u,w){}function e(){try{}catch(u){}$(mediaPlayer).trigger(courseEvent.CLEAR_MEDIA)}}function fw_MenuData(){this.moduleIndex=0;this.pageIndex=0}function fw_NavigatioEvent(){this.updateNavigationButtons=v;this.enableNavigation=u;this.disableNavigation=h;this.enableNextButton=d;this.disableNextButton=g;this.addTranscriptOffClass=z;this.addTranscriptOnClass=x;this.updateGlobleFocus=q;this.hideIconForMenu=t;this.checkTranscriptState=l;this.initToolTip=p;this.updateToolTip=e;var y=false;var m=false;var f=true;var n;var k=[];this.pagetabIndex=0;s();function s(){$(".footer>a, .hederIcon>a").bind("click",function(){if($(this).hasClass("disabledNavBtn")){return false}var C=$(this).attr("class");switch(C){case buttonClass.NEXT_BUTTON_CLASS:navigation.loadNextPage();break;case buttonClass.NEXT_BUTTON_CLASS+" "+buttonClass.NEXT_BUTTON_BLINK:navigation.loadNextPage();break;case buttonClass.NEXT_BUTTON_CLASS+" "+buttonClass.MENU_BUTTON_BLINK:navigation.showMenu();break;case buttonClass.BACK_BUTTON_CLASS:navigation.loadPreviousPage();break;case buttonClass.REPLAY_CLASS:navigation.replayPage();break;case buttonClass.TRANSCRIPT_ON_CLASS:navigation.audioON();navigation.hideTranscript();break;case buttonClass.TRANSCRIPT_OFF_CLASS:navigation.showTranscript();break;case buttonClass.AUDIO_ON_CLASS:navigation.audioOFF();x();break;case buttonClass.AUDIO_OFF_CLASS:navigation.audioON();break;case buttonClass.MENU_BUTTON_CLASS:navigation.showMenu();break;case buttonClass.GLOSSARY_BUTTON_CLASS:navigation.showGlossary();break}});$(".exit").bind("click",function(){if($(this).hasClass("disabledNavBtn")){return false}navigation.closeCourse()});$(".btn_PlayBlink").bind("click",function(){$(".playBlinkParent").hide();navigation.playPage()});$(".printbtn").live("click",function(){loadCertificateWin()});$("."+buttonClass.MENU_BUTTON_CLASS).focusout(function(){$("div[tabindex=1]").focus()});$(document).keydown(function(C){k[C.keyCode]=true;o()});$(document).keyup(function(C){k[C.keyCode]=false});var B="vertical";if(globalSettings.isIpad){B="none"}$(".wrapper").swipe({swipe:function(D,F,G,E,C){if(globalSettings.isDesktop()||menuData.moduleIndex<=0||$(".fw_BookMarkparent").length>0||F=="up"||F=="down"){return false}switch(C){case 1:templateMediator.pageSwiped(F);break;case 2:if(F=="left"){if(!A()){if(globalSettings.isIpad){$(".pageContainer").effect("bounce",{distance:8,times:4,direction:"left"},200)}else{$(".pageContainer div:first-child").effect("bounce",{distance:8,times:4,direction:"left"},200)}}}else{if(F=="right"){if(!a()){if(globalSettings.isIpad){$(".pageContainer").effect("bounce",{distance:8,times:4,direction:"right"},200)}else{$(".pageContainer div:first-child").effect("bounce",{distance:8,times:4,direction:"right"},200)}}}}break}},threshold:0,fingers:"all",allowPageScroll:B});$(pageContainer).bind(courseEvent.PAGE_LOAD_START,function(C){h();pageInstruction.hideInstruction();globalSettings.updateLayOut();if(playerSetting.coursetype!=playerSetting.STANDALONE){dataStore.updateUserData()}if(playerSetting.coursetype==playerSetting.TIN_CAN){dataStore.sendPageStatement()}});$(pageContainer).bind(courseEvent.PAGE_LOAD_COMPLETE,function(C){u();navigationData.updateBookMark();navigationData.updateProgressData(1)});$(mediaPlayer).bind(courseEvent.ENDED_MEDIA,function(C){b();pageContainer.isPlay=false;templateMediator.checkPageCompleteOnAudio()});$(mediaPlayer).bind(courseEvent.PAUSED_MEDIA,function(C){c();pageContainer.isPlay=false});$(mediaPlayer).bind(courseEvent.PLAYED_MEDIA,function(C){r();pageContainer.isPlay=true});$(mediaPlayer).bind(courseEvent.CLEAR_MEDIA,function(C){b();pageContainer.isPlay=false});$(mediaPlayer).bind(courseEvent.AUDIO_ON,function(C){w()});$(mediaPlayer).bind(courseEvent.AUDIO_OFF,function(C){j()});$(navigation).bind(courseEvent.TRANSCRIPT_ON,function(C){z()});$(navigation).bind(courseEvent.TRANSCRIPT_OFF,function(C){x()});$(".fw_Transcript").bind(courseEvent.TRANSCRIPT_OFF,function(C){z()});$(".fw_CloseCoursePopWindow").bind(courseEvent.CLOSECOURSE_NO,function(C){navigation.playPageExternal()});$(".fw_CloseCoursePopWindow").bind(courseEvent.CLOSECOURSE_YES,function(C){window.close()});$(navigation).bind(courseEvent.PAGE_PAUSE_EXTERNAL,function(C){h()});$(navigation).bind(courseEvent.PAGE_PLAY_EXTERNAL,function(C){u()})}function l(){if(m){x()}else{z()}}function o(){if(k[73]&&!islogPop){k[16]=false;k[73]=false;loadCommunicationWin();return false}if(menuData.moduleIndex<=0||$(".hederIcon").is(":visible")||$(".menupage").length>0||!(k[16])){}else{if(k[190]){A()}else{if(k[188]){a()}else{if(k[65]){if($("#btn_AudioOnOff").hasClass("disabledNavBtn")){return false}else{if(f){navigation.audioOFF();x()}else{navigation.audioON()}}}else{if(k[71]){if($("."+buttonClass.GLOSSARY_BUTTON_CLASS).hasClass("disabledNavBtn")&&$(".fw_Glossary_parent").is(":visible")){navigation.hideGlossary();return false}else{if($("."+buttonClass.GLOSSARY_BUTTON_CLASS).hasClass("disabledNavBtn")){return false}else{if($(".fw_Glossary_parent").is(":visible")){navigation.hideGlossary()}else{navigation.showGlossary()}}}}else{if(k[77]){if($("."+buttonClass.MENU_BUTTON_CLASS).hasClass("disabledNavBtn")){return false}else{navigation.showMenu()}}else{if(k[82]){if($("."+buttonClass.REPLAY_CLASS).hasClass("disabledNavBtn")){return false}else{navigation.replayPage()}}else{if(k[84]){if($("#btn_TranscriptOnOff").hasClass("disabledNavBtn")){return false}else{if(m){z();navigation.audioON()}else{x()}}}else{if(k[73]&&!islogPop){k[16]=false;k[73]=false;loadCommunicationWin()}}}}}}}}}}function a(){if($("."+buttonClass.BACK_BUTTON_CLASS).hasClass("disabledNavBtn")){return false}else{navigation.loadPreviousPage();return true}}function A(){if($("."+buttonClass.NEXT_BUTTON_CLASS).hasClass("disabledNavBtn")){return false}else{if($("."+buttonClass.NEXT_BUTTON_CLASS).hasClass(buttonClass.MENU_BUTTON_BLINK)){navigation.showMenu()}else{navigation.loadNextPage()}return true}}function c(){b();e()}function r(){b();e()}function b(){if($("#btn_PlayPauseReplay").hasClass("disabledNavBtn")){return false}$("#btn_PlayPauseReplay").attr("class",buttonClass.REPLAY_CLASS);e()}function x(){$("#btn_TranscriptOnOff").attr("class",buttonClass.TRANSCRIPT_ON_CLASS);$.fw_Transcript("show");m=true;e()}function z(){$.fw_Transcript("hide");m=false;$("#btn_TranscriptOnOff").attr("class",buttonClass.TRANSCRIPT_OFF_CLASS);e()}function j(){f=false;$("#btn_AudioOnOff").attr("class",buttonClass.AUDIO_OFF_CLASS);e()}function w(){f=true;$("#btn_AudioOnOff").attr("class",buttonClass.AUDIO_ON_CLASS);e()}function t(){l();$(".footer>a").removeClass("disabledNavBtn");$(".hederIcon>a").removeClass("disabledNavBtn");if(navigation.isSubModuleLoad){$(".btn_Back, .btn_Next").addClass("disabledNavBtn visibilityHidden");$(".btn_Menu").removeClass("disabledNavBtn visibilityHidden");$(".btn_Menu").css("visibility","visible")}else{$(".btn_Menu,.btn_Back, .btn_Next").addClass("disabledNavBtn visibilityHidden")}$(".pageCounter").html("");return true}function v(){if(navigationData.getSubModuleId()>0){$(".btn_Back").addClass("disabledNavBtn");$(".btn_Back").css("visibility","hidden");$(".pageCounter").addClass("hidepageCounter");$(".replayPage").addClass("disabledNavBtn");g()}else{$(".pageCounter").show();$(".pageCounter").removeClass("hidepageCounter");if(navigationData.isFirstPage()){$("."+buttonClass.BACK_BUTTON_CLASS).addClass("disabledNavBtn")}var B=navigationData.isCurrentPageComplete();if(B){d()}else{if((playerSetting.linearNavigation&&!B)||(navigationData.isPageMandatory()&&!B)){g()}else{d()}}if(navigationData.isLastPage()){}if(navigationData.isAssessmentPage()){h();$(".btn_Menu").removeClass("disabledNavBtn")}if(navigationData.isLastPageInModule()){$("."+buttonClass.NEXT_BUTTON_CLASS).addClass(buttonClass.MENU_BUTTON_BLINK)}else{$("."+buttonClass.NEXT_BUTTON_CLASS).removeClass(buttonClass.MENU_BUTTON_BLINK)}if(menuData.moduleIndex<=0&&menuData.pageIndex<=2){navigation.hideFooter()}else{navigation.showFooter()}if(menuData.moduleIndex<=0){$(".btn_Menu,.btn_Back, .btn_Next").addClass("disabledNavBtn");$(".btn_Menu,.btn_Back, .btn_Next").css("visibility","hidden");$(".pageCounter").html("")}else{$(".btn_Menu,.btn_Back, .btn_Next").css("visibility","visible")}}if(navigation.isMenuOpen){t()}e();q(navigationEvent.pagetabIndex)}function u(){$(".footer>a").removeClass("disabledNavBtn");$(".hederIcon>a").removeClass("disabledNavBtn");v()}function d(){$("."+buttonClass.NEXT_BUTTON_CLASS).removeClass("disabledNavBtn");e()}function g(){$("."+buttonClass.NEXT_BUTTON_CLASS).addClass("disabledNavBtn");if(navigationData.isLastPageInModule()){$("."+buttonClass.NEXT_BUTTON_CLASS).addClass(buttonClass.MENU_BUTTON_BLINK)}else{$("."+buttonClass.NEXT_BUTTON_CLASS).removeClass(buttonClass.MENU_BUTTON_BLINK)}}function h(){e();$(".btn_Menu,.btn_Back, .btn_Next").removeClass("disabledNavBtn visibilityHidden");$(".footer>a").addClass("disabledNavBtn");$(".hederIcon>a").addClass("disabledNavBtn");if(navigation.isMenuOpen){t()}}function p(){if(y){return false}if(globalSettings.isDesktop()){var F=globalData.navigationTextXML;if(F==null){return false}y=true;for(var C=0;C<F.tootTip[0].element.length;C++){var H=F.tootTip[0].element[C].Text;var B=F.tootTip[0].element[C].button;var G=F.tootTip[0].element[C].location;var E=parseInt(F.tootTip[0].element[C].width);var D=parseInt(F.tootTip[0].element[C].gap);$(B).attr("toolTiptext",H);$(B).fw_ToolTip({location:G,width:E,gap:D})}}}function e(){if(globalSettings.isDesktop()){var D=globalData.navigationTextXML;if(D==null){return false}for(var C=0;C<D.tootTip[0].element.length;C++){var E=D.tootTip[0].element[C].Text;var B=D.tootTip[0].element[C].button;$(B).attr("toolTiptext",E);$(B).fw_ToolTip("hide")}}}function q(E){if(E==null){return false}navigationEvent.pagetabIndex=E;var D=globalData.playerSettingXML;for(var C=0;C<D.tabIndexFlow[0].element.length;C++){var B=D.tabIndexFlow[0].element[C].button;if($(B).hasClass("disabledNavBtn")){$(B).removeAttr("tabindex")}else{E++;$(B).attr("tabindex",E)}}}}function Navigation(){this.loadNextPage=v;this.loadPreviousPage=u;this.replayPage=s;this.showTranscript=z;this.hideTranscript=B;this.audioON=c;this.audioOFF=m;this.showMenu=q;this.hideMenu=A;this.loadCurrentPage=e;this.closeCourse=a;this.addBlinker=o;this.pausePageExternal=d;this.playPageExternal=x;this.playAudioByURL=h;this.clearAudio=f;this.loadFirstPage=t;this.showGlossary=y;this.hideGlossary=b;this.showFooter=g;this.hideFooter=p;this.removeBlinker=k;this.isMenuOpen=false;this.isSubModuleLoad=false;this.allowNext=false;var j=false;var l=null;var n=0;var r=0;function o(){navigationData.updateProgressData(2);clearInterval(l);k();if(!navigationData.isLastPage()&&!navigationData.isLastPageInModule()){$("."+buttonClass.NEXT_BUTTON_CLASS).addClass(buttonClass.NEXT_BUTTON_BLINK);navigationEvent.enableNextButton();w()}else{if(navigationData.isLastPageInModule()){$("."+buttonClass.NEXT_BUTTON_CLASS).addClass(buttonClass.MENU_BUTTON_BLINK);navigationEvent.enableNextButton();w()}}navigationEvent.updateGlobleFocus(navigationEvent.pagetabIndex);return true}function t(){menuData.moduleIndex=0;menuData.pageIndex=0;e()}function k(){clearInterval(l);$(".btn_Next").attr("style","");$("."+buttonClass.NEXT_BUTTON_CLASS).removeClass(buttonClass.NEXT_BUTTON_BLINK);$("."+buttonClass.NEXT_BUTTON_CLASS).removeClass(buttonClass.MENU_BUTTON_BLINK)}function u(){navigationData.updatePreviousPageURL();e()}function v(){if(menuData.moduleIndex<=0&&menuData.pageIndex==3){navigation.showMenu();return false}if(navigationData.isAssessmentPage()){templateMediator.loadAssessmentQuestion()}else{navigationData.updateNextPageURL();e()}}function e(){navigation.isMenuOpen=false;if(navigationData.isAssessmentPage()){templateMediator.intAssessment()}else{pageContainer.loadPage(navigationData.getCurrentPageURL(),navigationData.getCurrentPageXMLURL())}}function s(){if(navigation.isMenuOpen){$.fw_Menu("replayAudio")}else{e()}}function z(){$(navigation).trigger(courseEvent.TRANSCRIPT_OFF)}function B(){$(navigation).trigger(courseEvent.TRANSCRIPT_ON)}function c(){mediaPlayer.audioON()}function m(){mediaPlayer.audioOFF()}function q(){if(navigation.isSubModuleLoad&&navigation.isMenuOpen){navigation.isSubModuleLoad=false;$.fw_Menu("init");return true}if(playerSetting.coursetype!=playerSetting.STANDALONE){dataStore.updateUserData()}if(playerSetting.coursetype==playerSetting.TIN_CAN){dataStore.sendPageStatement()}navigation.isMenuOpen=true;b();$.fw_Menu("init");return true}function A(){$.fw_Menu("hide")}function y(){$.fw_Glossary("show")}function b(){$.fw_Glossary("hide")}function g(){$("body,.wrapper").removeClass("hideFooter");$("body, .wrapper").addClass("showFooter")}function p(){$("body, .wrapper").addClass("hideFooter");$("body, .wrapper").removeClass("showFooter")}function a(){d();$.fw_CloseCourse("show")}function d(){j=pageContainer.isPlay;pageContainer.pause();$(navigation).trigger(courseEvent.PAGE_PAUSE_EXTERNAL)}function x(){if(j){pageContainer.play()}$(navigation).trigger(courseEvent.PAGE_PLAY_EXTERNAL)}function h(C){if(C==""||C==null||C.toLowerCase()=="none"){return false}var D="content/"+globalPath.userLanguage+"/"+C;if(playerSetting.isAudio||(globalSettings.isDesktop())){mediaPlayer.loadAudio(D)}}function f(){mediaPlayer.clearAudio()}$(pageContainer).bind(courseEvent.PAGE_LOAD_START,function(C){k()});function w(){var C=0;l=setInterval(function(){var D;var E=19;var G=35;if($(".hederIcon").is(":visible")){D=$(".hederIcon .btn_Next");G=35}else{D=$(".footer .btn_Next");G=80}var F=-(C*G);D.css("backgroundPosition",F+"px 1px");C+=1;if(C>E){C=0}},60)}}function fw_NavigationData(){var T;var z;var ai;var k=0;var R=globalData.navigationXML;var G=null;this.updateNextPageURL=Z;this.updatePreviousPageURL=ag;this.getCurrentPageLocation=Q;this.isFirstPage=E;this.isLastPage=B;this.getPageType=m;this.getModuleTitle=J;this.getPageTitle=e;this.getTotalPages=ab;this.getTotalPagesInModule=d;this.getCurrentPageNumber=g;this.createProgressArray=aa;this.checkAllVisited=V;this.getCurrentPageURL=p;this.getPageAudioURL=o;this.getPageVideoURL=ah;this.getCurrentPageXMLURL=W;this.getSuspendData=h;this.updateProgressData=a;this.updateAssessmentScore=M;this.loadTranscript=A;this.loadGlossary=C;this.searchGlossary=P;this.getTinCanVerb=D;this.isAssessmentPage=ad;this.isCurrentPageComplete=q;this.isPageMandatory=t;this.getTemplateName=S;this.updateProfileQuestions=ae;this.profileQueArray=new Array();this.userProfileArray=new Array();this.updateUserNavigation=H;this.isLastPageInModule=F;this.isModuleComplete=x;this.updateCurrentPageData=w;this.getCurrentPageData=c;this.isModuleCompulsory=y;this.updateBookMark=N;this.createBookmarkArray=L;this.getBookMark=Y;this.getBookMarkData=n;this.getSubModuleId=s;this.updateNextPageProgress=af;this.resetCurrentPageProgress=ac;this.firstTime=false;this.isPass=false;this.passDate="";this.student_name="";this.userScore="";function A(){$.fw_Transcript({parent:".wrapper"})}function C(){if(playerSetting.isGlossary){$.fw_Glossary({glossaryXML:globalData.glossaryXML})}}function P(aj){if(playerSetting.isGlossary){$.fw_Glossary("search",aj);navigation.showGlossary()}}function Z(){if(menuData==null){return null}if(menuData.moduleIndex>=r()-1&&menuData.pageIndex>=l(menuData.moduleIndex)-1){return null}else{menuData.pageIndex++;if(menuData.pageIndex>=l(menuData.moduleIndex)){menuData.pageIndex=0;menuData.moduleIndex++}}return K()}function ag(){if(menuData==null){return null}if(menuData.moduleIndex==0&&menuData.pageIndex==0){return null}else{menuData.pageIndex--;if(menuData.pageIndex<0){menuData.moduleIndex--;menuData.pageIndex=l(menuData.moduleIndex)-1}}return K()}function r(){return R.module.length}function j(aj){if(menuData==null){return null}menuData=aj;return K()}function p(){return K()}function K(){var am=m();var an="";var ak=globalData.playerSettingXML;for(var al=0;al<ak.templates[0].template.length;al++){var aj=ak.templates[0].template[al].name;if(am==aj){an=ak.templates[0].template[al].templatePath;break}}return an}function W(){var aj=R.module[menuData.moduleIndex].page[menuData.pageIndex].xmlPath;if(aj.indexOf("content/xml")>=0){return aj}else{aj="content/"+globalPath.userLanguage+"/"+aj;return aj}}function l(aj){if(aj>=R.module.length){return null}return R.module[aj].page.length}function Q(){return menuData}function E(){if(menuData.pageIndex<=0){return true}else{return false}}function B(){if(menuData.moduleIndex==(r()-1)&&menuData.pageIndex==(l(menuData.moduleIndex)-1)){return true}else{return false}}function F(){if(menuData.pageIndex==(l(menuData.moduleIndex)-1)){return true}else{return false}}function m(){return R.module[menuData.moduleIndex].page[menuData.pageIndex].pageType}function t(){if(R.module[menuData.moduleIndex].page[menuData.pageIndex].mandatory=="true"){return true}else{return false}}function S(){return R.module[menuData.moduleIndex].page[menuData.pageIndex].pageType}function ad(){return R.module[menuData.moduleIndex].page[menuData.pageIndex].pageType=="assessment"?true:false}function o(){if(currentPageXML!=null){if(currentPageXML.transcript[0].text[0].path==null){return"none"}return url="content/"+globalPath.userLanguage+"/"+currentPageXML.transcript[0].text[0].path}}function ah(){return url="content/"+globalPath.userLanguage+"/"+R.module[menuData.moduleIndex].page[menuData.pageIndex].mediaPath}function J(){if(menuData.moduleIndex<=0||G==null){/*Boffin Code Begin*/var myIndex = 0;var myModuleTitle = new Array("eng", "de","fre");for(i=0;i<myModuleTitle.length;i++){if(myModuleTitle[i]==globalPath.userLanguage)myIndex =i;}return R.module[menuData.moduleIndex].title[myIndex].Text/*return R.module[menuData.moduleIndex].title[0].Text Boffin Code End*/}else{if(navigationData.getSubModuleId()>0){return G.module[2].title[0].Text}else{/*Boffin Code Begin*/var reg=new RegExp("\<[^>]+\>","g"); return G.module[menuData.moduleIndex-1].title[0].Text.replace(reg,"")}/*Boffin Code End */}}function e(){if(menuData.moduleIndex<=0||G==null){return false}return G.module[menuData.moduleIndex-1].page[menuData.pageIndex].title[0].Text}function s(){if(R.module[menuData.moduleIndex].subMod!=null){return parseInt(R.module[menuData.moduleIndex].subMod)}else{return 0}}function D(){var ak="";try{ak=R.module[menuData.moduleIndex].page[menuData.pageIndex].tincanverb}catch(aj){}if(ak==null||ak==""){ak="experienced"}return ak}function ab(){if(k==0){for(var ak=1;ak<r();ak++){for(var aj=0;aj<l(ak);aj++){k++}}}return k}function d(){return l(menuData.moduleIndex)}function g(){var al=0;var am=false;for(var ak=1;ak<r();ak++){for(var aj=0;aj<l(ak);aj++){al++;if(ak==menuData.moduleIndex&&aj==menuData.pageIndex){am=true;break}if(am){break}}if(am){break}}if(!am){al=0}return al}function O(al,ao){var am=0;var an=false;for(var ak=1;ak<r();ak++){for(var aj=0;aj<l(ak);aj++){am++;if(ak==al&&aj==ao){an=true;break}if(an){break}}if(an){break}}if(!an){am=0}return am}function aa(an){var am=0;T=new Array();z=new Array();navigationData.firstTime=true;if(isNull(an)){for(var al=1;al<r();al++){for(var ak=0;ak<l(al);ak++){T[am]=0;z[am]="";am++}}}else{navigationData.firstTime=false;var aj=an.split("~##~");navigationData.passDate=aj[0];playerSetting.isAudio=aj[1]=="true"?true:false;globalPath.userLanguage=aj[2];navigationData.userProfileArray=aj[3].split(",");T=aj[4].split(",");z=aj[5].split(",");navigationData.isPass=aj[6]=="true"?true:false}}function L(aj){ai=new Array();if(isNull(aj)){for(var ak=0;ak<r();ak++){ai[ak]=-1}}else{ai=aj.split(",")}}function N(){ai[menuData.moduleIndex]=menuData.pageIndex}function Y(){return ai[menuData.moduleIndex]}function n(){return ai.toString()}function V(){var ak=true;for(var aj=0;aj<T.length;aj++){if(parseInt(T[aj])==0){ak=false;break}}return ak}function q(){return parseInt(T[g()-1])==2}function I(){var al=0;for(var ak=0;ak<T.length;ak++){if(parseInt(T[ak])==2){al++}}var aj=Math.round((al/T.length)*100);return aj}function h(){return navigationData.passDate+"~##~"+playerSetting.isAudio+"~##~"+globalPath.userLanguage+"~##~"+navigationData.userProfileArray.toString()+"~##~"+T.toString()+"~##~"+z.toString()+"~##~"+navigationData.isPass}function a(ak){var aj=g()-1;if(parseInt(T[aj])!=2){T[aj]=ak}}function w(aj){z[g()-1]=aj}function af(ak){var aj=g()-1;T[ak+aj]=2}function ac(){var aj=g()-1;T[aj]=0}function c(aj){return z[g()-1]}function M(aj){navigationData.userScore=aj;if(playerSetting.coursetype!=playerSetting.STANDALONE){dataStore.updateUserData()}}function U(al){var ak=1;for(var aj=0;aj<R.module.length;aj++){if(R.module[aj].id==al){ak=aj;break}}return ak}function y(al){var aj=false;for(var ak=1;ak<R.module.length;ak++){if(R.module[ak].id==al){if(R.module[ak].profilerQueId.toLowerCase()=="all"){aj=true}break}}return aj}function x(an){var aq=U(an);var ap=O(aq,0)-1;var al=0;var aj=(l(aq)+ap);var am=0;for(var ak=ap;ak<aj;ak++){al+=parseInt(T[ak]);am++}var ao=2*(am);if(al==0){return 0}else{if(al==ao){return 2}else{return 1}}}function ae(){navigationData.profileQueArray=new Array();for(var aj=0;aj<r();aj++){var ak=R.module[aj].profilerQueId;if(ak==null||ak=="none"||ak=="undefined"||ak==""||ak.toLowerCase()=="all"){}else{f(ak)}}}function f(am){var ak=am.split(",");for(var al=0;al<ak.length;al++){var aj=ak[al].split("Y")[0];aj=aj.split("N")[0];navigationData.profileQueArray[parseInt(aj-1)]=1}}function H(am,al,ao){for(var ak=1;ak<r();ak++){for(var aj=0;aj<playerSetting.alternativeChallenges.length;aj++){if(R.module[ak].showAlternativeChallenge!=null){if(playerSetting.alternativeChallenges[aj]==R.module[ak].challenge){R.module[ak].showAlternativeChallenge=true}}}}u(am,1);b(0);var an=false;if(am[5]=="6N"){for(var ak=1;ak<r();ak++){for(var aj=0;aj<l(ak);aj++){if(R.module[ak].page[aj].profilerQueId=="6Y"){R.module[ak].page.splice(aj,1);globalData.navigationTextXML.module[ak-1].page.splice(aj,1);an=true;break}}if(an){break}}}G=globalData.navigationTextXML;if(al){navigationData.userProfileArray=ao;aa("");L("");navigationData.isPass=false;navigationData.passDate=""}k=0;ab();v(am,0);navigation.loadNextPage()}function b(aj){if(aj>=R.module.length){return true}if(R.module[aj].showAlternativeChallenge!=null){if(R.module[aj].showAlternativeChallenge.toString()=="false"){X(aj);R.module.splice(aj,1);globalData.navigationTextXML.module.splice((aj-1),1);b(aj)}else{aj++;b(aj)}}else{aj++;b(aj)}return true}function v(al,ak){if(ak>=globalData.assessmentXML.module.length){return true}var an=globalData.assessmentXML.module[ak].profilerQueId;var am=false;var aj=al.toString();if(aj.indexOf(an)>=0||an.toLowerCase()=="all"){am=true}if(!am){globalData.assessmentXML.module.splice((ak),1);v(al,ak)}else{v(al,ak+1)}return true}function u(an,am){var aq=false;if(am>=r()){return false}var al=R.module[am].profilerQueId;if(al.toLowerCase()=="all"){aq=true}else{var ao=al.split(",");for(var ak=0;ak<ao.length;ak++){var ar=(ao[ak]);for(var aj=0;aj<an.length;aj++){var ap=(an[aj]);if(ar==ap){aq=true;break}}}}if(aq){am++;u(an,am)}else{X(am);R.module.splice(am,1);globalData.navigationTextXML.module.splice((am-1),1);u(an,1)}}function X(an){var ap=R.menuGroup[0];var ao=R.module[an].id;for(var al=0;al<ap.group.length;al++){var am=ap.group[al].id;var aj=ap.group[al].moduleId.split(",");for(var ak=0;ak<aj.length;ak++){if(ao==aj[ak]){aj.splice((ak),1);break}}ap.group[al].moduleId=aj.toString()}}}function fw_PageContainer(){this.loadPage=a;this.play=d;this.pause=c;this.replayPage=e;this.isPlay=false;function a(f,g){$(".fw_ToolTip").css("display","none");try{clearInterval(timeIntvl)}catch(h){}$(pageContainer).trigger(courseEvent.PAGE_LOAD_START);$.fw_Menu("hideToolTip");preLoade.showPreLoader("Loading Page....");$(".pageContainer").html("");$(".pageContainer").load(f,function(k,j,l){if(j=="success"){$.fw_Menu("hideToolTip");$("body").scrollTop(0);$(".pageContainer>div").hide();b(g)}else{if(j=="error"){}}})}function d(){pageContainer.isPlay=true;mediaPlayer.playPlayer()}function c(){pageContainer.isPlay=false;mediaPlayer.pausePlayer()}function e(){}function b(f){$.ajax({type:"GET",url:f,dataType:"xml",success:function(g){templateMediator.updatePageXML($.xmlToJSON(g))},error:function(g){alert("page Not found"+f)}})}}function fw_PageCounter(){this.updatePageCounter=a;$(pageContainer).bind("pageLoadComplete",function(b){a()});function a(){$(".pageCounter").html((menuData.pageIndex+1)+" / "+navigationData.getTotalPagesInModule())}}function fw_PageTitle(){this.updateTitle=c;this.updateTitleByText=b;this.updateModuleTitleByText=a;$(pageContainer).bind("pageLoadComplete",function(d){c()});function c(){$(".moduleTitle p").html(navigationData.getModuleTitle());$(".pageTitle p").html(navigationData.getPageTitle());if(navigationData.getPageTitle()==""){$(".pageTitle").removeAttr("tabindex")}else{$(".pageTitle").attr("tabindex",2)}}function b(d){$(".pageTitle p").html(d);if(d==""){$(".pageTitle").removeAttr("tabindex")}else{$(".pageTitle").attr("tabindex",2)}}function a(d){$(".moduleTitle p").html(d)}}function fw_PlayerSettings(){var b=globalData.playerSettingXML;var f=parseInt(b.config[0].coursetype[0].Text);this.coursetype=f;try{pipwerks.SCORM.version=f==2?"1.2":"2004"}catch(c){}this.revisionNumber=b.config[0].revisionNumber[0].Text;this.isBookmark=b.config[0].bookmark[0].Text=="true"?true:false;this.assessmentRandomize=b.config[0].assessmentRandomize[0].Text=="true"?true:false;this.passingScore=parseInt(b.config[0].passingscore[0].Text);this.isAssessmentFeedBack=b.config[0].showAssessmentFeedBack[0].Text=="true"?true:false;this.isGlossary=b.config[0].glossary[0].Text=="true"?true:false;this.disablerightclick=b.config[0].disablerightclick[0].Text=="true"?true:false;this.linearNavigation=b.config[0].linearnavigation[0].Text=="true"?true:false;this.playerLeft=g;this.playerRight=h;this.playerBottom=l;this.playerTop=a;this.containerBottom=k;this.containerTop=e;this.init=m;this.isScorm=j;this.isCookies=d;this.isAudio=true;this.AICC=4;this.SCORM_12=2;this.SCORM_2004=3;this.TIN_CAN=5;this.STANDALONE=1;this.COOKIES=6;this.alternativeChallenges=new Array();function m(){if(playerSetting.disablerightclick){$(document).bind("contextmenu",function(o){o.preventDefault()})}for(var n=0;n<b.config[0].root[0].option.length;n++){playerSetting.alternativeChallenges.push(b.config[0].root[0].option[n].challenge)}}function g(){return 0}function h(){return $(".footer").width()}function k(){return $(".footer").height()}function e(){return $(".header").height()}function l(){}function a(){return 0}function j(){return(playerSetting.coursetype==playerSetting.SCORM_12||playerSetting.coursetype==playerSetting.SCORM_2004)}function d(){return(playerSetting.coursetype==playerSetting.COOKIES)}}function fw_PreLoader(){this.showPreLoader=a;this.hidePreLoader=b;function a(c){if(c==null||c==""){c="Loading..."}$(".preloadeMeg").html(c);$(".preLoaderParent").show()}function b(){$(".preLoaderParent").hide()}}function fw_ProfileSelection(j){var p=j;var d=false;var r=".profileSelection .optionButton";var k="optionSelect";var n="optionHover";var t=p.profilerAnswer[0].text[0].Text;var c=p.profilerAnswer[0].text[1].Text;var l=p.profilerQuestions[0].text.length;var f=0;this.updatePageLayOut=a;var o="";$(".pageText p").html(p.contentText[0].text[0].Text);o='<table border="0" ><tr  ><td></td> <td class="optionLabel">'+t+'</td><td ></td><td class="optionLabel">'+c+"</td> </tr>";var e=6;for(var q=0;q<l;q++){var s=h(q);f++;o+="<tr>";o+='<td class="colm1" ><div tabindex="'+e+'"><p>'+s+"</p></div></td>";e++;o+='<td class="colm2"><a  href="#" class="optionButton" tabindex="'+e+'" id="a_'+(q+1)+'" val="op_'+(q+1)+'Y" style="cursor: pointer;"></a></td>';o+='<td class="blkWidth"></td>';e++;o+='<td class="colm3"><a  href="#" class="optionButton" tabindex="'+e+'" id="r_'+(q+1)+'" val="op_'+(q+1)+'N" style="cursor: pointer;"></a></td>';o+="</tr>";e++;o+='<tr class="blanktr"><td></td><td></td><td></td></tr>'}o+='</table><a href ="#" class="a-button continue disabled" ><span class="btntext"></span></a><div class="pageInstruction" tabindex="'+e+'" ><p class="instructionText">TEXT</p></div>';$(".profileQues").html(o);$(".profileImg img").attr("src",p.contentImage[0].path);$(".profileImg img").attr("alt",p.contentImage[0].Text);$(".btntext").html(p.buttonText[0].text[0].Text);$(".profileSelection .continue").attr("tabindex",(e+1));navigationEvent.updateGlobleFocus(e);if(navigationData.userProfileArray.length>0){for(var q=0;q<navigationData.userProfileArray.length;q++){var b="#"+navigationData.userProfileArray[q];$(b).addClass(k);$(b).css("cursor","default")}}m();pageInstruction.updateText(p.instructionText[0].text[0].Text);$(r).live("click",function(){d=true;var u=$(this).attr("id").split("_")[1];$("#a_"+u).removeClass(k);$("#a_"+u).css("cursor","pointer");$("#r_"+u).removeClass(k);$("#r_"+u).css("cursor","pointer");$(this).css("cursor","pointer");$(this).addClass(k);$(this).css("cursor","default");m()});$(".profileSelection .continue").live("click",function(){if($(this).hasClass("disabled")){return false}$(this).addClass("disabled");var v=new Array();var u=new Array();$(".profileQues").find(".optionButton").each(function(){if($(this).hasClass("optionSelect")){v.push($(this).attr("val").split("op_")[1]);u.push($(this).attr("id"))}});navigationData.updateUserNavigation(v,d,u)});$(".profileSelection .continue").focus(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}});$(".profileSelection .continue").focusout(function(){$("div[tabindex=1]").focus()});$(r).hover(function(){if($(this).hasClass(k)||(!globalSettings.isDesktop())){return false}$(this).addClass(n)},function(){$(this).removeClass(n)});$("div[tabindex=1]").focus();function h(w){var u="";for(var v=0;v<l;v++){if(parseInt(w)==parseInt(p.profilerQuestions[0].text[v].id)-1){u=p.profilerQuestions[0].text[v].Text;break}}return u}function m(){var u=0;$(".profileQues").find(".optionButton").each(function(){if($(this).hasClass("optionSelect")){u++}});if(f==u){$(".profileSelection .continue").removeClass("disabled")}else{$(".profileSelection .continue").addClass("disabled")}}try{templateMediator.templateLoadComplete();pageTitle.updateTitleByText(p.contentTitle[0].text[0].Text);navigationEvent.initToolTip()}catch(g){}$(".profileQues").find(".psQtext").each(function(){if($(this).height()>20){$(this).addClass("mt5")}});function a(){}}function fw_Reveal(n){var x=n;var h="";var E=".tabButton";var q="tabSelect";var f="tabHover";this.updatePageLayOut=a;$(".pageText p").html(x.contentText[0].text[0].Text);var p=x.tabs[0].tab.length;var w="";var c=navigationData.getCurrentPageData();var C=new Array();var A=new Array();var D=false;var y=0;var g;var v=new Array();var e=x.className;$(".reveal").addClass(e);if(c!=""){C=c.split("^")}else{for(var B=0;B<p;B++){C.push(0)}}for(var B=0;B<p;B++){A.push(0)}for(var B=0;B<p;B++){var b=x.tabs[0].tab[B].tabName[0].Text;var s=x.tabs[0].tab[B].buttonImg[0].path;var m=x.tabs[0].tab[B].buttonImg[0].Text;var b=x.tabs[0].tab[B].tabName[0].Text;v.push(s);var d="";if(x.tabs[0].tab[B].warningIcon!=null){d=x.tabs[0].tab[B].warningIcon[0].path;v.push(d)}w+='<div class="tab'+(B+1)+' tabButtonCont clearfix">';w+='<a class="tabButton" id="tabBtn_'+(B+1)+'" href="javascript:void(0)" >';if(d!=""){w+='<img class="tabButtonImg" src="'+s+'" title="" /><img class="warningIcon" src="'+d+'" title="" />'}else{w+='<img class="tabButtonImg" src="'+s+'" title="" />'}w+='<div class="tick"></div>';w+='<div class="tabButtonText"><table class="buttonText"><tr><td>'+b+"</td></tr></table></div></a></div>";g++;var t=r(x.tabs[0].tab[B].backgroungImg[0]);w+='<div class="tab'+(B+1)+' tabData clearfix">';w+='<img class="tabBg" src="'+t.path+'" title="" />';var o="";for(var z=0;z<x.tabs[0].tab[B].tabText[0].text.length;z++){o+="<div class='insertTab' ><p>"+x.tabs[0].tab[B].tabText[0].text[z].Text+"<br /><br /></p></div>"}w+='<div class="tabTextCont clearfix">'+o+"</div>";w+="</div>";v.push(t.path)}if(e=="m02s02"){}$(".tabs").html(w);navigationEvent.updateGlobleFocus(g);if(x.contentBackground[0].img[0].path!=""){$(".revealBg").attr("src",x.contentBackground[0].img[0].path);$(".revealBg").attr("alt",x.contentBackground[0].img[0].Text)}else{$(".revealBg").remove()}pageInstruction.updateText(x.instructionText[0].text[0].Text);$(E).hover(function(){if($(this).hasClass(q)||(!globalSettings.isDesktop())){return false}$(this).parent().addClass(f)},function(){$(this).parent().removeClass(f)});l();$(E).click(function(){if((!globalSettings.isDesktop())&&$(this).parent().hasClass(q)){$(".tabButtonCont").removeClass(q);$(E).css("cursor","pointer");$(".tabData").hide();return false}$(".tabButtonCont").removeClass(q);$(E).css("cursor","pointer");$(this).parent().addClass(q);$(this).css("cursor","default");$(this).find(".tick").show();$(".tabData").hide();var j=parseInt($(this).attr("id").split("_")[1]);y=j;$(".tab"+j+".tabData").animate({width:"show"},function(){l()});u(j);$("body").scrollTop(0)});if(x.contentBackground[0].img[0].path!=""){v.push(x.contentBackground[0].img[0].path)}$.imgpreload(v,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(j){}}});$(E).focus(function(){$(this).parent().addClass("tabClass")});$(E).focusout(function(){$(this).parent().removeClass("tabClass");if($(this).parent().hasClass(q)){var G=Number($(this).attr("tabindex"));var j="img[tabindex="+(G+1)+"]";$(j).focus()}});function F(){var j=C.join("^");navigationData.updateCurrentPageData(j)}function u(G){var H=G-1;var j=parseInt(C[H]);C[H]=1;A[H]=1;if(j==0){F()}k()}function k(){if(C.toString().indexOf("0")<0&&A.toString().indexOf("0")<0){pageInstruction.updateText(x.instructionText[0].text[1].Text);templateMediator.pageVisited()}}function r(L){var J=$(window).width();var G=$(window).height();var I=L.img[0];for(var H=0;H<L.img.length;H++){var K=parseInt(L.img[H].minwidth);var j=parseInt(L.img[H].minheight);if(J>K&&G>j){I=L.img[H]}}return I}function a(){if(D){return false}D=true;for(var G=0;G<p;G++){var H=r(x.tabs[0].tab[G].backgroungImg[0]);var j=$(".tab"+(G+1)+" .tabBg").attr("src");if(j!=H.path){$(".tab"+(G+1)+" .tabBg").attr("src",H.path)}}D=false}function l(){$(".tabBg, .tabTextCont").removeAttr("tabindex");g=7;for(var j=1;j<=p;j++){$("#tabBtn_"+j).attr("tabindex",g);g++;if($(".tab"+y+".tabData").is(":visible")&&j==y){$("#tabBtn_"+j).attr("tabindex",g);g++;$(".tab"+j+" .tabBg").attr("tabindex",g);g++;$(".tab"+j+" .tabTextCont ").find(".insertTab").each(function(){$(this).attr("tabindex",g);g++})}}navigationEvent.updateGlobleFocus(g)}}function fw_RevealCallOut(m){var A=m;var g="";var q=".revealCallOutButton";var o="revealCallOutSelect";var k="revealCallOutHover";this.updatePageLayOut=a;$(".pageText p").html(A.contentText[0].text[0].Text);var c=A.revealCallOutContent[0].revealCallOut.length;var z="";var b=navigationData.getCurrentPageData();var G=new Array();var v=new Array();var p=new Array();var E=false;var B=1;var w=0;var l=false;var f;var D=A.type.toLowerCase();var y=0;var n=".revealCallOut1";var d=new Array("revealCallOut1","revealCallOut2","revealCallOut3");for(var C=0;C<d.length;C++){if(D==d[C].toLowerCase()){y=C;break}}n="."+d[y];$(".revealCallOut1").attr("class",d[y]);if(b!=""){G=b.split("^")}else{for(var C=0;C<c;C++){G.push(0)}}for(var C=0;C<c;C++){var u=A.revealCallOutContent[0].revealCallOut[C].buttonText[0].Text;var x="hot_"+C;if(y==0){var r=A.revealCallOutContent[0].revealCallOut[C].img[0].path;var j=A.revealCallOutContent[0].revealCallOut[C].img[0].Text;z+='<a class="revealCallOutButton" id="'+x+'" tabindex="'+B+'" href="#" >';z+='<span id="tick_'+C+'" class="tickCross"></span>';z+='<div  class="revealCallOut" ><span class="revealCallOutText">'+u+'</span><div class="revealArrow"></div></div><img src="'+r+'" alt="'+j+'" title="" /></a>';var e=A.className;$(".revealCallOut1").addClass(e)}else{if(y==1){z+='<a class="revealCallOutButton" id="'+x+'" tabindex="'+B+'" href="#" >';z+='<span id="tick_'+C+'" class="tickCross"></span>';z+='<img class="rCallOutImg" src="'+A.revealCallOutContent[0].revealCallOut[C].img[0].path+'" alt="'+A.revealCallOutContent[0].revealCallOut[C].img[0].Text+'" title="" /><div class="revealCallOutText"> <table class="midText"><tr><td>'+u+"</td></tr></table></div></a>"}else{if(y==2){z+='<a class="revealCallOutButton" id="'+x+'" tabindex="'+B+'" href="#" >';z+='<span id="tick_'+C+'" class="tickCross"></span>';z+='<div class="revealCallOutText"> <table class="midText"><tr><td>'+u+"</td></tr></table></div>";z+='<div class="revealCallOutBg"></div></a>'}}}p.push("#"+x);v.push(0);B++}var s=A.contentBackground[0].img[0].path;if(s!=""){$(".revealCallOutBg").attr("src",A.contentBackground[0].img[0].path);$(".revealCallOutBg").attr("alt",A.contentBackground[0].img[0].Text)}else{$(".revealCallOutBg").remove()}$(".revealCallOutContainer").html(z);for(var C=0;C<c;C++){setPosition(p[C],A.revealCallOutContent[0].revealCallOut[C]);if(y==0){}else{if(y==2){$(p[C]).find(".revealCallOutBg").css("background-image","url("+A.revealCallOutContent[0].revealCallOut[C].img[0].path+")")}}}pageInstruction.updateText(A.instructionText[0].text[0].Text);h();$(q).click(function(){if($(this).hasClass(o)){return false}$(q).removeClass(o);$(q).removeClass(k);$(this).addClass(o);var H=parseInt($(this).attr("id").split("hot_")[1]);w=H;$(".popUpContainer").show();if(y==0){var P=getNumber($(this).css("left"))+($(this).width()/2);$(".popUpArrow").css("left",P+"px");/*boffin code begin*/var reg=new RegExp("\<[^>]+\>","g"); $(".PopUpHeader p").html(A.revealCallOutContent[0].revealCallOut[H].buttonText[0].Text.replace(reg,""));/*boffin code end*/var M="";for(var J=0;J<A.revealCallOutContent[0].revealCallOut[H].popText[0].text.length;J++){M+="<div class='insertTab'><p>"+A.revealCallOutContent[0].revealCallOut[H].popText[0].text[J].Text+"</p></div><br />"}$(".popUpText").html(M)}else{if(y==1){var P=getNumber($(this).css("left"))+($(this).width()/2);P=P-48;$(".popUpArrow").css("left",P+"px"); /*boffin code begin*/var reg=new RegExp("\<[^>]+\>","g"); $(".PopUpHeader p").html(A.revealCallOutContent[0].revealCallOut[H].buttonText[0].Text.replace(reg,""));/*boffin code end*/var M="";for(var J=0;J<A.revealCallOutContent[0].revealCallOut[H].popText[0].text.length;J++){M+="<div class='insertTab'><p>"+A.revealCallOutContent[0].revealCallOut[H].popText[0].text[J].Text+"</p></div><br />"}$(".popUpText").html(M);$(".rCallOutImg").attr("style","");$(this).find(".rCallOutImg").animate({height:"235px",width:"250px",left:"-17px",top:"-11px"},300)}else{if(y==2){var O=A.revealCallOutContent[0].revealCallOut[H].popText[0].width;var K=A.revealCallOutContent[0].revealCallOut[H].popText[0].height;var L=A.revealCallOutContent[0].revealCallOut[H].popText[0].left;var N=A.revealCallOutContent[0].revealCallOut[H].popText[0].top;$(".popUpContainer").css({height:K,width:O,left:L,top:N});var M="";for(var J=0;J<A.revealCallOutContent[0].revealCallOut[H].popText[0].text.length;J++){M+="<div class='insertTab'><p>"+A.revealCallOutContent[0].revealCallOut[H].popText[0].text[J].Text+"</p></div><br />"}$(".popUpText").html(M)}}}var I=parseInt(G[H]);G[w]=1;v[w]=1;if(I==0){F()}$(this).find(".tickCross").addClass("tick");h();if(v.toString().indexOf("0")<0&&!l){l=true;pageInstruction.updateText(A.instructionText[0].text[1].Text);templateMediator.pageVisited()}});$(".closePopUp").click(function(){$(".popUpContainer").hide();if(y==1){$(".rCallOutImg").attr("style","")}$(q).removeClass(o);h();return true});$(".closePopUp").focusout(function(){var I=Number($("#hot_"+w).attr("tabindex"));if(w==(c-1)){var H="a[tabindex="+(f+1)+"]";$(H).focus()}else{$("#hot_"+(w+1)+" ").focus()}});var t=new Array();if(s!=""){t.push(A.contentBackground[0].img[0].path)}for(var C=0;C<c;C++){t.push(A.revealCallOutContent[0].revealCallOut[C].img[0].path)}$.imgpreload(t,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus()}catch(H){}}});function F(){var H=G.join("^");navigationData.updateCurrentPageData(H)}function a(){}function h(){$(".popUpText, .closePopUp, .PopUpHeader").removeAttr("tabindex");f=7;$(".insertTab").removeAttr("tabindex");for(var H=0;H<=c;H++){$("#hot_"+H).attr("tabindex",f);f++;if($(".popUpContainer").is(":visible")&&H==w){$("#hot_"+H).attr("tabindex",f);f++;$(".popUpContainer .PopUpHeader").attr("tabindex",f);f++;$(".popUpContainer .popUpText").find(".insertTab").each(function(){$(this).attr("tabindex",f);f++});$(".popUpContainer .closePopUp").attr("tabindex",f);f++}}navigationEvent.updateGlobleFocus(f)}}function fw_SimplePresentation(m){var l=m;var f="";this.updatePageLayOut=a;var h=l.className;$(".simplePresentation").addClass(h);var d=l.panelText[0].text.length;var n=5;globalSettings.addTitle("#pan1",l.panelText[0].text[0].Text);$(".panelBg").attr("src",l.contentBackground[0].img[0].path);$(".panelBg").attr("alt",l.contentBackground[0].img[0].Text);a();var e=new Array();e.push(l.contentBackground[0].img[0].path);pageInstruction.updateText(l.instructionText[0].text[0].Text);$(".panelContainer").append('<div id="pan1" class="posAB" tabindex="'+n+'">'+l.panelText[0].text[0].Text+"</div>");g("#pan1",l.panelText[0].text[0]);if(d>1){for(var k=1;k<d;k++){n++;var b="etext"+k;var j='<div id="'+b+'" class="posAB" tabindex="'+n+'">'+l.panelText[0].text[k].Text+"</div>";$(".panelContainer").append(j);g("#"+b,l.panelText[0].text[k])}}if(l.panelText[0].text.length>1){$(".qoutText").css("width",l.panelText[0].text[1].qoutTxtWidth)}$(".pageInstruction").attr("tabindex",(n));navigationEvent.updateGlobleFocus(n);$.imgpreload(e,{each:function(){},all:function(){try{templateMediator.templateLoadComplete();$("div[tabindex=1]").focus();templateMediator.pageVisited()}catch(c){}}});function a(){}function g(o,r){var x=(r.color==null?"#333740":r.color);var v=(r.fontSize==null?"14px":r.fontSize);var q=(r.fontWeight==null?"normal":r.fontWeight);var p=(r.textAlign==null?"left":r.textAlign);var c=(r.width==null?"auto":r.width);var u=(r.height==null?"auto":r.height);var w=(r.left==null?"":r.left);var t=(r.top==null?"":r.top);var s=(r.position==null?"absolute":r.position);$(o).css({left:w,top:t,color:x,width:c,height:u,"font-size":v,"font-weight":q,"text-align":p,position:s})}}function fw_SummativeMCQ(j,f){var r=j;var v=".summativeMCQ .optionButton";var k="optionSelect";var n="optionHover";var d=".optionContainer";var u=new Array();var x=".ok";this.updatePageLayOut=a;$(".pageText p").html(r.questionText[0].Text);$(".pageText").attr("tabindex","4");var p='<table border="0" >';var b=r.options[0].option.length;var c=5;var g="";var o;var s=r.options[0].answer.split(",");for(var t=0;t<b;t++){var w=r.options[0].option[t].Text;u.push(0);p+='<tr class="optionRow">';p+='<td class="uAnscontainer" ><div class="uAns"></div></td>';p+='<td class="optionCell" onclick = "void(0)" ><a  href="javascript:void(0)" class="optionButton" tabindex="'+c+'" id="op_'+t+'" style="cursor: pointer;"></a></td>';c++;p+='<td class="optiontextCell" onclick = "void(0)" ><a class="optionTextClick" tabindex="'+c+'" href="#">'+w+"</a></td>";p+="</tr>";c++;p+='<tr class="cellGap"><td></td> <td></td> <td></td> </tr>'}p+="</table>";$(".pageInstruction").attr("tabIndex",c);c++;p+='<a href ="#" class="a-button ok disabled" tabindex="'+(c+1)+'" ><span class="btntext"></span></a>';$(".optionContainer").html(p);pageInstruction.updateText(r.instruction[0].Text);a();navigationEvent.updateGlobleFocus(c);function a(){}$(".optionCell").click(function(){var y=$(this).find(".optionButton");if($(y).hasClass("disabled")){return false}$(v).removeClass(k);$(y).addClass(k);$(".optionCell,.optiontextCell").css("cursor","pointer");$(v).css("cursor","pointer");$(y).css("cursor","default");$(this).css("cursor","default");$(this).parent().find(".optiontextCell").css("cursor","default");q($(y).attr("id"))});$(".optiontextCell").click(function(){var y=$(this).parent().find(".optionButton");if($(y).hasClass("disabled")){return false}$(v).removeClass(k);$(y).addClass(k);$(".optionCell,.optiontextCell").css("cursor","pointer");$(v).css("cursor","pointer");$(y).css("cursor","default");$(this).css("cursor","default");$(this).parent().find(".optionCell").css("cursor","default");q($(y).attr("id"))});$(".optionCell").hover(function(){o=$(this).find(".optionButton");if($(o).hasClass(k)||$(o).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(o).addClass(n)},function(){$(o).removeClass(n)});$(".optiontextCell").hover(function(){o=$(this).parent().find(".optionButton");if($(o).hasClass(k)||$(o).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(o).addClass(n)},function(){$(o).removeClass(n)});$(".optionTextClick").focus(function(){$("a[tabindex=1]").focus()});function q(z){g="#"+z;var A=parseInt(z.split("op_")[1]);u=new Array();for(var y=0;y<b;y++){u.push(0)}u[A]=1;l(x)}$(x).click(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}$(".userFeedback").attr("tabindex",(c+1));e(".optionCell");e(".optiontextCell");e(x);e(v);if(playerSetting.isAssessmentFeedBack){if(u.toString()==s.toString()){m(r.feedback[0].correct[0],1);$(g).closest(".optionRow").addClass("uAnsTick")}else{m(r.feedback[0].incorrect[0],0);$(g).closest(".optionRow").addClass("uAnsCross");for(var y=0;y<b;y++){if(parseInt(s[y])==1){$("#op_"+y).closest(".optionRow").addClass("uAnsShow")}}}}if(f!=null){f(u,c);return false}});function m(z,y){$(".userFeedbackText").html('<div class="textContainer"><p>'+z.Text+"</p></div>");$(".userFeedback").show();$(".userFeedbackText").fw_Scroll({color:"#dfb302",width:10});if(y==1){$(".userFeedback").addClass("correctFB")}else{if(y==0){$(".userFeedback").addClass("inCorrectFB")}}$(".userFeedback").show()}function l(y){$(y).removeClass("disabled");$(y).css("cursor","pointer")}function e(y){$(y).addClass("disabled");$(y).css("cursor","default")}function h(){navigationEvent.updateGlobleFocus(c)}}function fw_SummativeTAWA(j,f){var r=j;var v=".summativeTAWA .optionButton";var k="optionSelect";var n="optionHover";var d=".optionContainer";var u=new Array();var x=".ok";this.updatePageLayOut=a;$(".pageText p").html(r.questionText[0].Text);$(".pageText").attr("tabindex","4");var p='<table border="0" >';var b=r.options[0].option.length;var c=5;var o;var s=r.options[0].answer.split(",");for(var t=0;t<b;t++){var w=r.options[0].option[t].Text;u.push(0);p+='<tr class="optionRow">';p+='<td class="uAnscontainer" ><div class="uAns"></div></td>';p+='<td class="optionCell" onclick = "void(0)" ><a  href="javascript:void(0)" class="optionButton" tabindex="'+c+'" id="op_'+t+'" style="cursor: pointer;"></a></td>';c++;p+='<td class="optiontextCell"  onclick = "void(0)" ><a class="optionTextClick" tabindex="'+c+'" href="#">'+w+"</a></td>";p+="</tr>";c++;p+='<tr class="cellGap"><td></td> <td></td> <td></td> </tr>'}p+='</table><a href ="#" class="a-button ok disabled" ><span class="btntext"></span></a><div class="answerInstruction"></div>';$(".optionContainer").html(p);pageInstruction.updateText(r.instruction[0].Text);$(".answerInstruction").html(r.extraInstruction[0].Text);$(".answerInstruction").attr("tabindex",c);c++;$(".pageInstruction").attr("tabIndex",c);c++;$(".ok").attr("tabIndex",c);a();navigationEvent.updateGlobleFocus(c);function a(){}$(".optionCell").click(function(){var y=$(this).find(".optionButton");if($(y).hasClass("disabled")){return false}g(y)});$(".optiontextCell").click(function(){var y=$(this).parent().find(".optionButton");if($(y).hasClass("disabled")){return false}g(y)});$(".optionCell").hover(function(){o=$(this).find(".optionButton");if($(o).hasClass(k)||$(o).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(o).addClass(n)},function(){$(o).removeClass(n)});$(".optiontextCell").hover(function(){o=$(this).parent().find(".optionButton");if($(o).hasClass(k)||$(o).hasClass("disabled")||(!globalSettings.isDesktop())){return false}$(o).addClass(n)},function(){$(o).removeClass(n)});$(".optionTextClick").focus(function(){$("a[tabindex=3]").focus()});function g(y){if($(y).hasClass(k)){$(y).removeClass(k);q($(y).attr("id"),0)}else{$(y).addClass(k);q($(y).attr("id"),1)}}function q(y,z){var A=parseInt(y.split("op_")[1]);u[A]=z;if(u.toString().indexOf("1")>=0){l(x)}else{e(x)}}$(x).click(function(){if($(this).hasClass("disabled")){$("div[tabindex=1]").focus();return false}$(".userFeedback").attr("tabindex",(c+1));e(".optionCell");e(".optiontextCell");e(x);e(v);if(playerSetting.isAssessmentFeedBack){if(u.toString()==s.toString()){m(r.feedback[0].correct[0],1)}else{m(r.feedback[0].incorrect[0],0)}for(var y=0;y<b;y++){if(u[y]==s[y]&&u[y]==1){$("#op_"+y).closest(".optionRow").addClass("uAnsTick")}else{if(s[y]==1){$("#op_"+y).closest(".optionRow").addClass("uAnsShow")}else{if(u[y]!=s[y]&&u[y]==1){$("#op_"+y).closest(".optionRow").addClass("uAnsCross")}}}}}if(f!=null){f(u,c);return false}});function m(z,y){$(".userFeedbackText").html('<div class="textContainer"><p>'+z.Text+"</p></div>");$(".userFeedback").show();$(".userFeedbackText").fw_Scroll({color:"#dfb302",width:10});if(y==1){$(".userFeedback").addClass("correctFB")}else{if(y==0){$(".userFeedback").addClass("inCorrectFB")}}$(".userFeedback").show()}function l(y){$(y).removeClass("disabled");$(y).css("cursor","pointer")}function e(y){$(y).addClass("disabled");$(y).css("cursor","default")}function h(){navigationEvent.updateGlobleFocus(c)}}function fw_TemplateMediator(){var g=null;this.updatePageXML=d;this.templateLoadComplete=e;this.checkPageCompleteOnAudio=j;this.pageVisited=a;this.intAssessment=f;this.loadAssessmentQuestion=c;this.pageSwiped=h;var b=false;$(window).resize(function(){if(g!=null){g.updatePageLayOut()}$.fw_Transcript("updateScroll")});function h(l){if(navigationData.getTemplateName()=="comicStrip"){try{g.pageSwiped(l)}catch(k){}}}function d(k){currentPageXML=k;g=null;switch(navigationData.getTemplateName()){case"normalPage":e();break;case"languageSelection":g=new fw_LanguageSelection(currentPageXML);break;case"welcomeScreen":g=new fw_WelcomeScreen(currentPageXML);break;case"audioSelection":g=new fw_AudioSelection(currentPageXML);break;case"profileSelection":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_ProfileSelection(currentPageXML);break;case"comicStrip":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_ComicStrip(currentPageXML);break;case"simplePresentation":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_SimplePresentation(currentPageXML);break;case"formativeMCQ":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_FormativeMCQ(currentPageXML);break;case"formativeTrueFalse":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_FormativeTrueFalse(currentPageXML);break;case"formativeTAWA":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_FormativeTAWA(currentPageXML);break;case"knowledgeCheckIntro":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_KnowledgeCheckIntro(currentPageXML);break;case"knowledgeCheckSummary":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_KnowledgeCheckSummary(currentPageXML);break;case"reveal":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_Reveal(currentPageXML);break;case"hotSpot":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_HotSpot(currentPageXML);break;case"hotSpotCustom":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_HotSpotCustom(currentPageXML);break;case"revealCallOut":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_RevealCallOut(currentPageXML);break;case"graphicReveal":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_GraphicReveal(currentPageXML);break;case"formativeMCQChallenge":$.fw_Transcript("updateText",currentPageXML.transcript[0].text[0].Text);g=new fw_FormativeMCQChallenge(currentPageXML);break}}function f(){g=new fw_Assessment()}function c(){g.loadNextQuestion()}function e(){preLoade.hidePreLoader();if(!b&&!playerSetting.isAudio&&!globalSettings.isMobile()&&menuData.pageIndex>2){b=true;navigationEvent.addTranscriptOnClass();navigation.audioOFF()}$(".pageContainer>div").fadeIn();$(pageContainer).trigger(courseEvent.PAGE_LOAD_COMPLETE);if(navigationData.isCurrentPageComplete()){if(navigationData.getSubModuleId()>0){if(navigation.allowNext){navigation.allowNext=false;a()}}else{a()}}}function j(){switch(navigationData.getTemplateName()){case"simplePresentation":navigation.addBlinker();break}}function a(){navigation.addBlinker();return true}}(function(c){var b={init:function(d){var e={text:"Would you like to Continue to the<br/>last visited page?",yes:"Continue?",no:"Restart"};d=c.extend(e,d);c(".pageContainer").prepend(getBookMarkHTML());c(".fw_BookMarkText").html(e.text);c(".fw_BookMarkText").attr("title","");c(".fw_BookMarkYes").html(e.yes);c(".fw_BookMarkYes").attr("title","");c(".fw_BookMarkNo").html(e.no);c(".fw_BookMarkNo").attr("title","");c(".fw_BookMarkYes").bind("click",function(){c(".fw_BookMarkPopWindow").trigger(courseEvent.BOOKMARK_YES)});c(".fw_BookMarkNo").bind("click",function(){c(".fw_BookMarkPopWindow").trigger(courseEvent.BOOKMARK_NO)});c(".fw_BookMarkNo").focusout(function(){c("a[tabindex=1]").focus()});c(".fw_BookMarkYes").focusout(function(){c("a[tabindex=2]").focus()});c(window).resize(function(){if(c(".fw_BookMarkPopWindow").length>0){a()}});c("div[tabindex=1]").focus();a()},show:function(){},hide:function(){c(".fw_BookMarkparent").remove()}};function a(){var e=(c(".pageContainer").height()-c(".fw_BookMarkPopWindow").outerHeight())/2;if(globalSettings.isDesktop()){e=e+40}var d=(c(".pageContainer").width()-c(".fw_BookMarkPopWindow").outerWidth())/2;c(".fw_BookMarkPopWindow").css({position:"absolute",margin:0,top:(e>0?e:0)+"px",left:(d>0?d:0)+"px"})}c.fn.fw_BookMark=function(d){if(b[d]){return b[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return b.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.tooltip")}}};c.extend({fw_BookMark:c.fn.fw_BookMark});getBookMarkHTML=function(){var d="<div class='fw_BookMarkparent'><div class='fw_BookMarkPopWindow' ><div class='fw_BookMarkText' ></div><a class='fw_BookMarkYes' href='javascript:void(0)' tabindex='1' >Yes</a><a class='fw_BookMarkNo' href='javascript:void(0)' tabindex='2' >No</a></div></div>";if(c(".fw_BookMarkPopWindow").length>0){return""}else{return d}}})(jQuery);(function(a){a.fn.extend({fw_CenterDiv:function(){return this.each(function(){var c=(a(window).height()-a(this).outerHeight())/2;var b=(a(window).width()-a(this).outerWidth())/2;a(this).css({position:"absolute",margin:0,top:(c>0?c:0)+"px",left:(b>0?b:0)+"px"})})}})})(jQuery);(function(c){var b=0;var a={init:function(m){var f={dataArray:[],defaultSelect:"",tabIndex:1,callback:function(){}};m=c.extend(f,m);b=f.tabIndex;c(this).css({position:"relative"});c(this).html(getDropDown());var j="";var d=f.dataArray[0].data;var h=f.dataArray[0].val;for(var g=1;g<f.dataArray.length;g++){var k=f.dataArray[g].data;var e=f.dataArray[g].val;b++;j+="<a href='#' id='drp_"+g+"' tabindex='"+b+"'class='dropOptions' >"+k+"</a>";if(f.defaultSelect==e){d=f.dataArray[g].data;h=f.dataArray[g].val}}c(".dropOptionsContainer").html(j);var l=f.dataArray.length*30;if(l>150){l=150}c(".dropContent").css("height",l+"px");c(".dropHeader").click(function(){c(".ScrollContainer").css("top","0px");c(".dropIcon").toggleClass("dropOpen");if(c(".dropIcon").hasClass("dropOpen")){c(".dropContent").show();c(".dropContent").fw_Scroll({color:"#cc0000",width:10})}else{c(".dropContent").hide()}});c(".dropText").html(d);c(".dropOptions").click(function(){var n=c(this).html();var p=c(this).attr("val");c(".dropText").html(n);c(".dropIcon").toggleClass("dropOpen");c(".dropContent").hide();var q=parseInt(c(this).attr("id").split("drp_")[1]);var o=f.dataArray[q].val;f.callback(o)});return this},show:function(){},hide:function(){},update:function(d){}};c.fn.fw_DropDown=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.tooltip")}}};getDropDown=function(){var d='<div class="dropDown"><a href="#" class="dropHeader"  tabindex="'+b+'" ><div class="dropText"> Select</div><div class="dropIcon"> </div></a><div class="dropContent"><div class="dropOptionsContainer" ></div></div></div>';if(c(".dropDown").length>0){return""}else{return d}}})(jQuery);(function(h){var j;var b="";var m;var l;var k;var e={};var n=[];var f={};var j=null;var d={init:function(p){f={speed:500,glossaryXML:null};var p=h.extend(f,p);j=f.glossaryXML;h(".wrapper").prepend(getHtml());var o=h(".fw_Glossary");if(f.bottom!=0){h(".fw_Glossary").css("bottom",f.bottom+"px")}else{h(".fw_Glossary").css("top",f.top+"px")}if(f.right!=0){h(".fw_Glossary").css("right",f.right+"px")}else{h(".fw_Glossary").css("left",f.left+"px")}g(o);h(".fw_GloListDiv_"+n[0]).addClass("showList");var q=h(".fw_GloListDiv_"+n[0]+" a:first-child").text();a(q);h(".fw_GlossarySelector a.fw_GloPointer:first-child").addClass("fw_GloCharCurrent");h(".fw_GlossaryClose").bind("click",function(){d.hide()});h(".fw_GloPointer").bind("click",function(){h(".fw_GloSearchTxt").val("");h(".fw_GloCharList").show();h(".fw_GloListDiv").removeClass("showList");h(".fw_GloListDiv_"+h(this).text()).addClass("showList");h(".fw_GloPointer").removeClass("fw_GloCharCurrent");h(this).addClass("fw_GloCharCurrent");h(".fw_GloCharList").removeClass("fw_GloListCurrent");h(".fw_GloListDiv_"+h(this).text()+" a:first-child").addClass("fw_GloListCurrent");h(".fw_GloInfoTitle,.fw_GloInfoContent").html("");var r=h(".fw_GloListDiv_"+h(this).text()+" a:first-child").text();a(r)});h(".fw_GloCharList").bind("click",function(){h(".fw_GloInfoTitle,.fw_GloInfoContent").html("");var r=h(this).text();a(r);h(".fw_GloCharList").removeClass("fw_GloListCurrent");h(this).addClass("fw_GloListCurrent")});h(".fw_GlossaryText").html(j.title[0].Text);h(".fw_Glossary_parent").hide();h(".fw_Glossary").focus();navigationEvent.updateToolTip()},show:function(){h(".fw_Glossary_parent").show();h(".fw_GloListDiv a.fw_GloListCurrent").css("display","block");h(".fw_Glossary").focus();navigation.pausePageExternal()},hide:function(){h(".fw_Glossary_parent").hide();navigation.playPageExternal()},destroy:function(){},reposition:function(){},update:function(o){}};h.fn.fw_Glossary=function(o){if(d[o]){return d[o].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof o==="object"||!o){return d.init.apply(this,arguments)}else{h.error("Method "+o+" does not exist on jQuery.customglossary")}}};h.extend({fw_Glossary:h.fn.fw_Glossary});getHtml=function(){var o="<div class='fw_Glossary_parent'>";o+="<div class='semiBlack'></div>";o+="<div class='fw_Glossary'>";o+="<div class='fw_GlossaryHeader'>";o+="<div class='fw_GlossaryText'></div><a class='fw_GlossaryClose'></a>";o+="<div class='fw_GlossarySearch'><input type='text' class='fw_GloSearchTxt' ><a class='fw_SrchBtn'>&nbsp;</a></div>";o+="</div>";o+="<div class='fw_GlossaryContent'>";o+="<div class='fw_GlossaryScrollable'>";o+="<div class='fw_GlossaryList'></div>";o+="<div class='fw_GlossaryInfo'>";o+="<div class='fw_GloInfoTitle'></div>";o+="<div class='fw_GloInfoContent' id ='fw_GloInfoContent' ><div class='scrollable'></div></div>";o+="</div>";o+="<div class='fw_GlossarySelector'>";o+="</div>";o+="</div>";o+="</div>";o+="</div>";o+="</div>";if(h(".fw_Glossary").length>0){return""}else{return o}};function g(q){var u=fw_GloInfo=fw_GloList="";var t=false;for(var s=0;s<j.alphabet.length;s++){if(typeof j.alphabet[s].term==="undefined"){continue}fw_GloList+='<div class="fw_GloListDiv fw_GloListDiv_'+j.alphabet[s].character[0].Text+'"><div class="scrollable">';n.push(j.alphabet[s].character[0].Text);for(var r=0;r<j.alphabet[s].term.length;r++){if(r==0&&!t){t=true;fw_GloList+='<a id="fw_GloCharDiv_'+j.alphabet[s].character[0].Text+"_"+r+'" href="javascript:void(0)" class="fw_GloCharList fw_GloListCurrent">'+j.alphabet[s].term[r].word[0].Text+"</a>"}else{fw_GloList+='<a id="fw_GloCharDiv_'+j.alphabet[s].character[0].Text+"_"+r+'" href="javascript:void(0)" class="fw_GloCharList">'+j.alphabet[s].term[r].word[0].Text+"</a>"}e[j.alphabet[s].term[r].word[0].Text]=j.alphabet[s].term[r].text[0].Text}fw_GloList+="</div></div>"}var v=10;for(var p=65;p<91;p++){var o=c(String.fromCharCode(p));if(o!=""){v++;u+="<a class='fw_GlossaryChar"+o+"' tabindex='"+v+"'>"+String.fromCharCode(p)+"</a>"}else{u+="<a class='fw_GlossaryChar'>"+String.fromCharCode(p)+"</a>"}}h(q).find(".fw_GlossaryList").html(fw_GloList);h(q).find(".fw_GlossarySelector").html(u)}function a(o){var p="";p+="<div class='fw_GloInfoTitle'>"+o+"</div>";p+="<div class='fw_GloInfoContent' id ='fw_GloInfoContent' ><div class='scrollable'>"+e[o]+"</div></div>";h(".fw_GlossaryInfo").html(p);h("#fw_GloInfoContent").fw_Scroll({color:"#303030",width:10})}function c(p){for(var o=0;o<n.length;o++){if(n[o]==p){return" fw_GloPointer"}}return""}})(jQuery);(function(f){var o={};var d;var y;var n;var b=".menuModule";var A="menuModuleHover";var a=0;var r=false;var k=false;var G=0;var l=false;var t=false;var E=false;var c;var x=0;var m=false;var z={init:function(Q){f(".subGroupContainer").hide();f(".groupContainer").hide();navigationEvent.hideIconForMenu();var I=new Array();d=globalData.navigationTextXML;for(var L=0;L<d.module.length;L++){I.push(d.module[L].imgPath)}mediaPlayer.clearAudio();n=globalData.navigationXML;y=n.menuGroup[0];a=y.group.length;c=d.buttonText[0].text[0].Text;var N='<div class="menupage"  ><div class="groupContainer" ></div><div class="subGroupContainer" ></div></div>';N+='<div class="pageInstruction menuInstr" tabindex="4"><p class="instructionText"></p></div>';f(".pageContainer").html(N);pageTitle.updateTitleByText(d.title[0].text[0].Text);pageTitle.updateModuleTitleByText(d.title[0].text[2].Text);pageInstruction.updateText(d.instructionText[0].text[0].Text);var H=0;var K=0;for(var L=0;L<n.module.length;L++){if(n.module[L].subMod!=null){H++;var M=parseInt(n.module[L].id);K+=navigationData.isModuleComplete(M)}}if(K==(H*2)){t=true}else{if(K>0){m=true}}x=5;for(var L=0;L<y.group.length;L++){if(y.group[L].moduleId.length>0){var P=y.group[L].id;var O=y.group[L].moduleId.split(",");for(var J=0;J<O.length;J++){x++;j(P,O[J],J,x)}}}navigationEvent.updateGlobleFocus(x);f.imgpreload(I,{each:function(){},all:function(){try{f(".menupage").show()}catch(R){}}});if(window.PIE){f(".moduleText,.menuModule").each(function(){PIE.attach(this)})}f(".startBtn").click(function(){w();var R=h(f(this).attr("id").split("moduleSt")[1]);R=parseInt(R);q(R)});f(b).click(function(){if(f(this).hasClass("disabled")){return false}f(b).parent().removeClass(A);f(b).parent().find(".overText").css("display","none");f(b).parent().find(".menuBgImg").addClass("blackImage");f(b).parent().find(".startBtn").css("display","none");f(this).parent().addClass(A);f(this).parent().find(".menuBgImg").removeClass("blackImage");f(this).parent().find(".overText").css("display","block");f(this).parent().find(".startBtn").css("display","block")});if(!r){r=true}f("div[tabindex=1]").focus();f("body").scrollTop(0);navigation.removeBlinker();if(navigation.isSubModuleLoad){F()}else{v()}},updateCurrentPage:function(H){},updateVisitedPage:function(H){},hideToolTip:function(H){w()},replayAudio:function(H){v()}};f.fn.fw_Menu=function(H){if(z[H]){return z[H].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof H==="object"||!H){return z.init.apply(this,arguments)}else{f.error("Method "+H+" does not exist on jQuery.customMenu")}}};function v(){if(navigation.isSubModuleLoad){g()}else{if(G){var H=d.transcript[0].text[1].path;navigation.playAudioByURL(H);f.fw_Transcript("updateText",d.transcript[0].text[1].Text)}else{var H=d.transcript[0].text[0].path;navigation.playAudioByURL(H);f.fw_Transcript("updateText",d.transcript[0].text[0].Text)}if(E){var H=d.transcript[0].text[5].path;navigation.playAudioByURL(H);f.fw_Transcript("updateText",d.transcript[0].text[5].Text)}}}function q(H){if(H==3){F()}else{menuData.moduleIndex=H;menuData.pageIndex=0;if(navigationData.getSubModuleId()>0){navigation.loadCurrentPage()}else{C()}w()}}function F(){f(".subGroupContainer").show();f(".groupContainer").hide();navigation.isSubModuleLoad=true;navigationEvent.hideIconForMenu();f("div[tabindex=1]").focus();pageInstruction.updateText(d.instructionText[0].text[1].Text);pageTitle.updateTitleByText(d.title[0].text[1].Text);pageTitle.updateModuleTitleByText(d.title[0].text[3].Text);g()}function g(){if(t){var H=d.transcript[0].text[4].path;f.fw_Transcript("updateText",d.transcript[0].text[4].Text);navigation.playAudioByURL(H)}else{if(l){var H=d.transcript[0].text[3].path;f.fw_Transcript("updateText",d.transcript[0].text[3].Text);navigation.playAudioByURL(H)}else{var H=d.transcript[0].text[2].path;f.fw_Transcript("updateText",d.transcript[0].text[2].Text);navigation.playAudioByURL(H)}}}function D(H){mediaPlayer.clearAudio();f(".pageContainer").html("");pageTitle.updateTitleByText("");pageTitle.updateModuleTitleByText("");f.fw_BookMark({text:d.bookMark[0].text[0].Text,yes:d.bookMark[0].buttonText[0].text[0].Text,no:d.bookMark[0].buttonText[0].text[1].Text});f(".fw_BookMarkPopWindow").bind(courseEvent.BOOKMARK_YES,function(I){menuData.pageIndex=H;if(navigationData.getPageType()=="knowledgeCheckSummary"){menuData.pageIndex=1}f.fw_BookMark("hide");navigation.loadCurrentPage()});f(".fw_BookMarkPopWindow").bind(courseEvent.BOOKMARK_NO,function(I){f.fw_BookMark("hide");navigation.loadCurrentPage()})}function C(){var H=parseInt(navigationData.getBookMark());if(H>=0&&playerSetting.isBookmark){D(H)}else{navigation.loadCurrentPage()}}function u(H){}function w(){f(".menuToolTip").hide()}function j(L,O,P,J){var R="";var H=p(O);var Q=B(O);var I=s(O);var K=e(O);var M="";switch(navigationData.isModuleComplete(O)){case 0:M="";break;case 1:M="menuIncomplete";break;case 2:M="menuComplete";if(P==0){G=1}if(O>5&&O<=16){l=true}break}if(t&&O==3){M="menuComplete"}else{if(m&&O==3){M="menuIncomplete"}}if(navigationData.isPass&&O==5){M="menuComplete";E=true}if(P==0){var N="";if(O>5){N=" disabled"}R+='<div class="menuModuleParent  '+M+'"><a href="javascript:void(0)"  class="menuModule transparentBg moduleFirst '+M+N+'" id="module'+O+'" tabindex="'+J+'" alt="'+H+'"></a><div class="tickCross"></div><div class="moduleText">'+H+'</div><div class="overText"><p>'+Q+'</p></div><div class="menuBgImg blackImage" ><img class="menuImage" src="'+I+'" alt="'+K+'" /></div>';J++;R+='<a href ="#" id="moduleSt'+O+'" class="a-button startBtn '+M+'" tabindex="'+J+'" ><span class="btntext">'+c+"</span></a></div>";f(".groupContainer").append(R)}else{R+='<div class="menuModuleParent  '+M+'"><a href="javascript:void(0)"  class="menuModule transparentBg moduleFirst '+M+'" id="module'+O+'" tabindex="'+J+'"  alt="'+H+'"></a><div class="tickCross"></div><div class="moduleText">'+H+'</div><div class="overText"><p>'+Q+'</p></div><div class="menuBgImg blackImage"><img class="menuImage" src="'+I+'" alt="'+K+'" /></div>';J++;R+='<a href ="#" id="moduleSt'+O+'" class="a-button startBtn '+M+'" tabindex="'+J+'" ><span class="btntext '+M+'">'+c+"</span></a></div>";f(".subGroupContainer").append(R)}}function p(J){var I="";for(var H=0;H<d.module.length;H++){if(d.module[H].id==J){I=d.module[H].title[0].Text;break}}return I}function h(J){var I=0;for(var H=0;H<n.module.length;H++){if(n.module[H].id==J){I=H;break}}return I}function B(J){var I="";for(var H=0;H<d.module.length;H++){if(d.module[H].id==J){I=d.module[H].overText[0].Text;break}}return I}function e(J){var I="";for(var H=0;H<d.module.length;H++){if(d.module[H].id==J){I=d.module[H].altText[0].Text;break}}return I}function s(J){var I="";for(var H=0;H<d.module.length;H++){if(d.module[H].id==J){I=d.module[H].imgPath;break}}return I}f.extend({fw_Menu:f.fn.fw_Menu});addMenuTip=function(){var H='<div class="menuToolTip menuToolTipLeft"><div class="menuArrow "></div><div class="menuToolTipText"><p>Text</p></div></div>';if(f(".menuToolTip").length>0){}else{f("body").prepend(H)}}})(jQuery);(function(g){var j;var a;var c;var b;var e;var k;var f={};var d={init:function(o){f={color:"#303030",width:15};var o=g.extend(f,o);j=g(this);j.children("div:first-child").addClass("scrollable");g(j).append(m());a=g(j.find(".scrollable"));c=g(j.find(".fw_Scrollbar"));var p=f.width;var n=30-p;j.css({overflow:"hidden",position:"relative"});c.css({cursor:"pointer",width:"30px",position:"absolute",top:"0px",right:"2px",height:"50px","z-index":"2"});a.css({"padding-right":(p+2)+"px",position:"absolute"});c.children("div:first-child").css({background:"none repeat scroll 0 0 "+f.color,height:"100%","margin-left":n+"px",width:p+"px"});b=g(j).height();e=g(a).outerHeight(true);k=b/(e/b);c.height(k);if(b<e){g("."+j.attr("class")+" .fw_Scrollbar").show();g("."+j.attr("class")+" .fw_ScrollbarBg").show()}else{g("."+j.attr("class")+" .fw_Scrollbar").hide();g("."+j.attr("class")+" .fw_ScrollbarBg").hide()}g("."+j.attr("class")+" .fw_Scrollbar").draggable({axis:"y",containment:"parent",drag:function(q,r){a=g(this).siblings(".scrollable");h(this,a)}});if(window.addEventListener){document.addEventListener("DOMMouseScroll",l,false)}document.onmousewheel=l},update:function(o){j=g(this);a=g(j.find(".scrollable"));a.html(o.text);a.css("top","0px");var q=parseInt(g("."+j.attr("class")+" .fw_Scrollbar div").css("width"));var n=30-q;var p=parseInt(j.css("width"))-q;a.css("width",p);b=g(j).height();e=g(a).outerHeight(true);if(b<e){g("."+j.attr("class")+" .fw_Scrollbar").show();k=b/(e/b);g("."+j.attr("class")+" .fw_Scrollbar").css({top:"0px",height:k});g("."+j.attr("class")+" .fw_ScrollbarBg").show()}else{g("."+j.attr("class")+" .fw_Scrollbar").hide();g("."+j.attr("class")+" .fw_ScrollbarBg").hide()}}};g.fn.fw_Scroll=function(n){if(d[n]){return d[n].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof n==="object"||!n){return d.init.apply(this,arguments)}else{g.error("Method "+n+" does not exist on jQuery.fw_Scroll")}}};g.extend({fw_Scroll:g.fn.fw_Scroll});function h(p,n){b=g(j).height();e=g(n).outerHeight(true);k=b/(e/b);var o=g(p).position().top;g(n).css({top:-(o*(e/b)-1)})}function m(){if(j.find(".fw_Scrollbar").length>0){return false}var n="";n+="<div class='fw_Scrollbar'><div></div></div><div class='fw_ScrollbarBg'></div>";n+="";return n}function l(o){var r=0;if(!o){o=window.event}if(o.wheelDelta){r=o.wheelDelta/60}else{if(o.detail){r=-o.detail/2}}var q=0;var n=j.find(".fw_Scrollbar");var q=g(n).position().top;var p=g(j).outerHeight(true)-g(n).outerHeight(true);if(r<0){q+=10}else{q-=10}if(q<0){q=0}if(q>p){q=p}g(n).css("top",q);h(n,a)}})(jQuery);(function(c){var b="";var a={init:function(d){var g={location:"top",width:100,gap:5,time:100,animation:false};d=c.extend(g,d);if(!globalSettings.isDesktop()){return false}c("body").prepend(getTip());c(".fw_ToolTip").css("display","none");var e="";var f="";this.hover(function(){if(c(this).hasClass("disabledNavBtn")){return false}var l=c(this).attr("toolTiptext");f=c(this).attr("class");b=f;e=l;c(".fw_ToolTipText").html(l);c(".fw_ToolTip").css("width",g.width);c(".fw_ToolTip").removeClass("toolTip_left toolTip_top toolTip_right toolTip_bottom");c(".fw_ToolTip").addClass("toolTip_"+g.location);var n=c(this).offset();var j=n.left;var k=n.top;var s=c(this).width();var m=c(this).height();var p=c(".fw_ToolTip").width();var r=c(".fw_ToolTip").height();var o=j-p;var h=k-r-g.gap;var q;c(".fw_ToolTip").stop();switch(g.location){case"left":o=j+(s+g.gap);h=k-((r/2)-(m/2));break;case"top":o=j-((p/2)-(s/2));h=k-(r+g.gap+g.gap);break;case"right":o=j-(p+g.gap+g.gap);h=k-((r/2)-(m/2));break;case"bottom":o=j-((p/2)-(s/2));h=k+m+g.gap;break}if(g.animation){c(".fw_ToolTip").css("opacity",0);c(".fw_ToolTip").css({left:o+"px",top:h+"px"});c(".fw_ToolTip").show();switch(g.location){case"left":c(".fw_ToolTip").css("left",(o+20)+"px");break;case"top":c(".fw_ToolTip").css("top",(h-20)+"px");break;case"right":c(".fw_ToolTip").css("left",(o-20)+"px");break;case"bottom":c(".fw_ToolTip").css("top",(h+20)+"px");break}c(".fw_ToolTip").animate({opacity:1,left:o+"px",top:h+"px"},g.time)}else{c(".fw_ToolTip").css({left:o+"px",top:h+"px"});c(".fw_ToolTip").fadeIn(g.time);c(".fw_ToolTip").animate({opacity:1})}},function(){c(".fw_ToolTip").css("display","none");if(f==c(this).attr("class")){}});return this},show:function(){},hide:function(){c(".fw_ToolTip").css("display","none")},update:function(d){c(".fw_ToolTipText").html(d)}};c.fn.fw_ToolTip=function(d){if(a[d]){return a[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return a.init.apply(this,arguments)}else{c.error("Method "+d+" does not exist on jQuery.tooltip")}}};getTip=function(){var d="<div class='fw_ToolTip'><div class='fw_ToolTipText'></div></div>";if(c(".fw_ToolTip").length>0){return""}else{return d}}})(jQuery);(function(f){var h;var b;var j;var c=120;var a=new Array();var g=16;var e=0;var d={init:function(k){var m={parent:"body"};k=f.extend(m,k);f(m.parent).prepend(getTranscriptHtml());for(var l=0;l<50;l++){a.push(g*l)}f(".fw_Transcript").css("display","none");f(".fw_Transcript").css({right:"0px",top:"35px"});f("#fw_TranscriptScrollbar").draggable({axis:"y",containment:"parent",drag:function(){scrollbarDragging()}});f(".fw_CloseTranscript").bind("click",function(){d.hide.apply();try{navigationEvent.addTranscriptOffClass()}catch(n){}});f(".fw_Transcript").css("height","120px;")},show:function(){f(".fw_Transcript").show();updateScroll()},hide:function(){f(".fw_Transcript").hide()},updateText:function(k){f(".fw_TranscriptText").html("<p>"+k+"</p>");updateScroll()},updateScroll:function(k){updateScroll()}};f.fn.fw_Transcript=function(k){if(d[k]){return d[k].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof k==="object"||!k){return d.init.apply(this,arguments)}else{f.error("Method "+k+" does not exist on jQuery.tooltip")}}};f.extend({fw_Transcript:f.fn.fw_Transcript});getTranscriptHtml=function(){var k="<div class='fw_Transcript'><div class='fw_TranscriptTextContainer' tabindex='3'><div id='fw_TranscriptScrollbar'><div></div></div><div id='fw_TranscriptScrollbarBg'></div><div class='fw_TranscriptText'></div></div><a href='javascript:void(0)' alt='Close Transcript' class='fw_CloseTranscript'></a></div>";if(f(".fw_Transcript").length>0){return""}else{return k}};scrollbarDragging=function(){var k=f("#fw_TranscriptScrollbar").position().top;var l=k*((b)/(h));l=Math.round(l);l=globalSettings.closestNumber(a,l);if(e!=l){f(".fw_TranscriptText").stop();f(".fw_TranscriptText").animate({top:-(l)})}e=l};updateScroll=function(){e=0;var k=f(".fw_Transcript").height();f(".fw_TranscriptText,#fw_TranscriptScrollbar").css({top:"0px"});h=f(".fw_TranscriptTextContainer").height();b=f(".fw_TranscriptText").height();j=(h/(b/h))-10;if(j<10){j=10}f("#fw_TranscriptScrollbar").height(j);if((f("#fw_TranscriptScrollbar").height()+10)>=(f(".fw_TranscriptTextContainer").height())){f("#fw_TranscriptScrollbar, #fw_TranscriptScrollbarBg").hide()}else{f("#fw_TranscriptScrollbar, #fw_TranscriptScrollbarBg").show()}}})(jQuery);